{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport AddButton from \"../AddButton\";\nimport IconButton from \"../IconButton\";\nimport React, { Component } from \"react\";\nimport includes from \"core-js-pure/es/array/includes\";\nimport * as types from \"../../types\";\nimport { getWidget, getDefaultFormState, getUiOptions, isMultiSelect, isFilesArray, isFixedItems, allowAdditionalItems, optionsList, retrieveSchema, toIdSchema, getDefaultRegistry } from \"../../utils\";\nimport { nanoid } from \"nanoid\";\n\nfunction ArrayFieldTitle(_ref) {\n  var TitleField = _ref.TitleField,\n      idSchema = _ref.idSchema,\n      title = _ref.title,\n      required = _ref.required;\n\n  if (!title) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__title\");\n  return React.createElement(TitleField, {\n    id: id,\n    title: title,\n    required: required\n  });\n}\n\nfunction ArrayFieldDescription(_ref2) {\n  var DescriptionField = _ref2.DescriptionField,\n      idSchema = _ref2.idSchema,\n      description = _ref2.description;\n\n  if (!description) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__description\");\n  return React.createElement(DescriptionField, {\n    id: id,\n    description: description\n  });\n} // Used in the two templates\n\n\nfunction DefaultArrayItem(props) {\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\"\n  };\n  return React.createElement(\"div\", {\n    key: props.key,\n    className: props.className\n  }, React.createElement(\"div\", {\n    className: props.hasToolbar ? \"col-xs-9\" : \"col-xs-12\"\n  }, props.children), props.hasToolbar && React.createElement(\"div\", {\n    className: \"col-xs-3 array-item-toolbox\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\"\n    }\n  }, (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-up\",\n    \"aria-label\": \"Move up\",\n    className: \"array-item-move-up\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveUp,\n    onClick: props.onReorderClick(props.index, props.index - 1)\n  }), (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-down\",\n    className: \"array-item-move-down\",\n    \"aria-label\": \"Move down\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveDown,\n    onClick: props.onReorderClick(props.index, props.index + 1)\n  }), props.hasRemove && React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    \"aria-label\": \"Remove\",\n    className: \"array-item-remove\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly,\n    onClick: props.onDropIndexClick(props.index)\n  }))));\n}\n\nfunction DefaultFixedArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(\"div\", {\n    className: \"field-description\",\n    key: \"field-description-\".concat(props.idSchema.$id)\n  }, props.uiSchema[\"ui:description\"] || props.schema.description), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(DefaultArrayItem)), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction DefaultNormalArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(ArrayFieldDescription, {\n    key: \"array-field-description-\".concat(props.idSchema.$id),\n    DescriptionField: props.DescriptionField,\n    idSchema: props.idSchema,\n    description: props.uiSchema[\"ui:description\"] || props.schema.description\n  }), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(function (p) {\n    return DefaultArrayItem(p);\n  })), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction generateRowId() {\n  return nanoid();\n}\n\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData) ? [] : formData.map(function (item) {\n    return {\n      key: generateRowId(),\n      item: item\n    };\n  });\n}\n\nfunction keyedToPlainFormData(keyedFormData) {\n  return keyedFormData.map(function (keyedItem) {\n    return keyedItem.item;\n  });\n}\n\nvar ArrayField = /*#__PURE__*/function (_Component) {\n  _inherits(ArrayField, _Component);\n\n  function ArrayField(props) {\n    var _this;\n\n    _classCallCheck(this, ArrayField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArrayField).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getNewFormDataRow\", function () {\n      var _this$props = _this.props,\n          schema = _this$props.schema,\n          _this$props$registry = _this$props.registry,\n          registry = _this$props$registry === void 0 ? getDefaultRegistry() : _this$props$registry;\n      var rootSchema = registry.rootSchema;\n      var itemSchema = schema.items;\n\n      if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n        itemSchema = schema.additionalItems;\n      }\n\n      return getDefaultFormState(itemSchema, undefined, rootSchema);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddClick\", function (event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      var onChange = _this.props.onChange;\n      var newKeyedFormDataRow = {\n        key: generateRowId(),\n        item: _this._getNewFormDataRow()\n      };\n      var newKeyedFormData = [].concat(_toConsumableArray(_this.state.keyedFormData), [newKeyedFormDataRow]);\n\n      _this.setState({\n        keyedFormData: newKeyedFormData,\n        updatedKeyedFormData: true\n      }, function () {\n        return onChange(keyedToPlainFormData(newKeyedFormData));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var newKeyedFormDataRow = {\n          key: generateRowId(),\n          item: _this._getNewFormDataRow()\n        };\n\n        var newKeyedFormData = _toConsumableArray(_this.state.keyedFormData);\n\n        newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData));\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var keyedFormData = _this.state.keyedFormData; // refs #195: revalidate to ensure properly reindexing errors\n\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            i = parseInt(i);\n\n            if (i < index) {\n              newErrorSchema[i] = errorSchema[i];\n            } else if (i > index) {\n              newErrorSchema[i - 1] = errorSchema[i];\n            }\n          }\n        }\n\n        var newKeyedFormData = keyedFormData.filter(function (_, i) {\n          return i !== index;\n        });\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReorderClick\", function (index, newIndex) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n          event.target.blur();\n        }\n\n        var onChange = _this.props.onChange;\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            if (i == index) {\n              newErrorSchema[newIndex] = errorSchema[index];\n            } else if (i == newIndex) {\n              newErrorSchema[index] = errorSchema[newIndex];\n            } else {\n              newErrorSchema[i] = errorSchema[i];\n            }\n          }\n        }\n\n        var keyedFormData = _this.state.keyedFormData;\n\n        function reOrderArray() {\n          // Copy item\n          var _newKeyedFormData = keyedFormData.slice(); // Moves item from index to newIndex\n\n\n          _newKeyedFormData.splice(index, 1);\n\n          _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n\n          return _newKeyedFormData;\n        }\n\n        var newKeyedFormData = reOrderArray();\n\n        _this.setState({\n          keyedFormData: newKeyedFormData\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeForIndex\", function (index) {\n      return function (value, errorSchema) {\n        var _this$props2 = _this.props,\n            formData = _this$props2.formData,\n            onChange = _this$props2.onChange;\n        var newFormData = formData.map(function (item, i) {\n          // We need to treat undefined items as nulls to have validation.\n          // See https://github.com/tdegrunt/jsonschema/issues/206\n          var jsonValue = typeof value === \"undefined\" ? null : value;\n          return index === i ? jsonValue : item;\n        });\n        onChange(newFormData, errorSchema && _this.props.errorSchema && _objectSpread({}, _this.props.errorSchema, _defineProperty({}, index, errorSchema)));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChange\", function (value) {\n      _this.props.onChange(value);\n    });\n\n    var _formData = props.formData;\n\n    var _keyedFormData = generateKeyedFormData(_formData);\n\n    _this.state = {\n      keyedFormData: _keyedFormData,\n      updatedKeyedFormData: false\n    };\n    return _this;\n  }\n\n  _createClass(ArrayField, [{\n    key: \"isItemRequired\",\n    value: function isItemRequired(itemSchema) {\n      if (Array.isArray(itemSchema.type)) {\n        // While we don't yet support composite/nullable jsonschema types, it's\n        // future-proof to check for requirement against these.\n        return !includes(itemSchema.type, \"null\");\n      } // All non-null array item types are inherently required by design\n\n\n      return itemSchema.type !== \"null\";\n    }\n  }, {\n    key: \"canAddItem\",\n    value: function canAddItem(formItems) {\n      var _this$props3 = this.props,\n          schema = _this$props3.schema,\n          uiSchema = _this$props3.uiSchema;\n\n      var _getUiOptions = getUiOptions(uiSchema),\n          addable = _getUiOptions.addable;\n\n      if (addable !== false) {\n        // if ui:options.addable was not explicitly set to false, we can add\n        // another item if we have not exceeded maxItems yet\n        if (schema.maxItems !== undefined) {\n          addable = formItems.length < schema.maxItems;\n        } else {\n          addable = true;\n        }\n      }\n\n      return addable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          schema = _this$props4.schema,\n          uiSchema = _this$props4.uiSchema,\n          idSchema = _this$props4.idSchema,\n          _this$props4$registry = _this$props4.registry,\n          registry = _this$props4$registry === void 0 ? getDefaultRegistry() : _this$props4$registry;\n      var rootSchema = registry.rootSchema;\n\n      if (!schema.hasOwnProperty(\"items\")) {\n        var fields = registry.fields;\n        var UnsupportedField = fields.UnsupportedField;\n        return React.createElement(UnsupportedField, {\n          schema: schema,\n          idSchema: idSchema,\n          reason: \"Missing items definition\"\n        });\n      }\n\n      if (isFixedItems(schema)) {\n        return this.renderFixedArray();\n      }\n\n      if (isFilesArray(schema, uiSchema, rootSchema)) {\n        return this.renderFiles();\n      }\n\n      if (isMultiSelect(schema, rootSchema)) {\n        return this.renderMultiSelect();\n      }\n\n      return this.renderNormalArray();\n    }\n  }, {\n    key: \"renderNormalArray\",\n    value: function renderNormalArray() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          schema = _this$props5.schema,\n          uiSchema = _this$props5.uiSchema,\n          errorSchema = _this$props5.errorSchema,\n          idSchema = _this$props5.idSchema,\n          name = _this$props5.name,\n          required = _this$props5.required,\n          disabled = _this$props5.disabled,\n          readonly = _this$props5.readonly,\n          autofocus = _this$props5.autofocus,\n          _this$props5$registry = _this$props5.registry,\n          registry = _this$props5$registry === void 0 ? getDefaultRegistry() : _this$props5$registry,\n          onBlur = _this$props5.onBlur,\n          onFocus = _this$props5.onFocus,\n          idPrefix = _this$props5.idPrefix,\n          rawErrors = _this$props5.rawErrors;\n      var title = schema.title === undefined ? name : schema.title;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema);\n      var formData = keyedToPlainFormData(this.state.keyedFormData);\n      var arrayProps = {\n        canAdd: this.canAddItem(formData),\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var itemSchema = retrieveSchema(schema.items, rootSchema, item);\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          return _this2.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canMoveUp: index > 0,\n            canMoveDown: index < formData.length - 1,\n            itemSchema: itemSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            itemData: item,\n            itemUiSchema: uiSchema.items,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        className: \"field field-array field-array-of-\".concat(itemsSchema.type),\n        DescriptionField: DescriptionField,\n        disabled: disabled,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        formData: formData,\n        rawErrors: rawErrors,\n        registry: registry\n      }; // Check if a custom render function was passed in\n\n      var Component = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultNormalArrayFieldTemplate;\n      return React.createElement(Component, arrayProps);\n    }\n  }, {\n    key: \"renderMultiSelect\",\n    value: function renderMultiSelect() {\n      var _this$props6 = this.props,\n          schema = _this$props6.schema,\n          idSchema = _this$props6.idSchema,\n          uiSchema = _this$props6.uiSchema,\n          formData = _this$props6.formData,\n          disabled = _this$props6.disabled,\n          readonly = _this$props6.readonly,\n          required = _this$props6.required,\n          label = _this$props6.label,\n          placeholder = _this$props6.placeholder,\n          autofocus = _this$props6.autofocus,\n          onBlur = _this$props6.onBlur,\n          onFocus = _this$props6.onFocus,\n          _this$props6$registry = _this$props6.registry,\n          registry = _this$props6$registry === void 0 ? getDefaultRegistry() : _this$props6$registry,\n          rawErrors = _this$props6.rawErrors;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          rootSchema = registry.rootSchema,\n          formContext = registry.formContext;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema, formData);\n      var enumOptions = optionsList(itemsSchema);\n\n      var _getUiOptions$enumOpt = _objectSpread({}, getUiOptions(uiSchema), {\n        enumOptions: enumOptions\n      }),\n          _getUiOptions$enumOpt2 = _getUiOptions$enumOpt.widget,\n          widget = _getUiOptions$enumOpt2 === void 0 ? \"select\" : _getUiOptions$enumOpt2,\n          options = _objectWithoutProperties(_getUiOptions$enumOpt, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        options: options,\n        schema: schema,\n        registry: registry,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        required: required,\n        label: label,\n        placeholder: placeholder,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this$props7 = this.props,\n          schema = _this$props7.schema,\n          uiSchema = _this$props7.uiSchema,\n          idSchema = _this$props7.idSchema,\n          name = _this$props7.name,\n          disabled = _this$props7.disabled,\n          readonly = _this$props7.readonly,\n          autofocus = _this$props7.autofocus,\n          onBlur = _this$props7.onBlur,\n          onFocus = _this$props7.onFocus,\n          _this$props7$registry = _this$props7.registry,\n          registry = _this$props7$registry === void 0 ? getDefaultRegistry() : _this$props7$registry,\n          rawErrors = _this$props7.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          formContext = registry.formContext;\n\n      var _getUiOptions2 = getUiOptions(uiSchema),\n          _getUiOptions2$widget = _getUiOptions2.widget,\n          widget = _getUiOptions2$widget === void 0 ? \"files\" : _getUiOptions2$widget,\n          options = _objectWithoutProperties(_getUiOptions2, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        options: options,\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        schema: schema,\n        title: title,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFixedArray\",\n    value: function renderFixedArray() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          schema = _this$props8.schema,\n          uiSchema = _this$props8.uiSchema,\n          formData = _this$props8.formData,\n          errorSchema = _this$props8.errorSchema,\n          idPrefix = _this$props8.idPrefix,\n          idSchema = _this$props8.idSchema,\n          name = _this$props8.name,\n          required = _this$props8.required,\n          disabled = _this$props8.disabled,\n          readonly = _this$props8.readonly,\n          autofocus = _this$props8.autofocus,\n          _this$props8$registry = _this$props8.registry,\n          registry = _this$props8$registry === void 0 ? getDefaultRegistry() : _this$props8$registry,\n          onBlur = _this$props8.onBlur,\n          onFocus = _this$props8.onFocus,\n          rawErrors = _this$props8.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField;\n      var itemSchemas = schema.items.map(function (item, index) {\n        return retrieveSchema(item, rootSchema, formData[index]);\n      });\n      var additionalSchema = allowAdditionalItems(schema) ? retrieveSchema(schema.additionalItems, rootSchema, formData) : null;\n\n      if (!items || items.length < itemSchemas.length) {\n        // to make sure at least all fixed items are generated\n        items = items || [];\n        items = items.concat(new Array(itemSchemas.length - items.length));\n      } // These are the props passed into the render function\n\n\n      var arrayProps = {\n        canAdd: this.canAddItem(items) && additionalSchema,\n        className: \"field field-array field-array-fixed-items\",\n        disabled: disabled,\n        idSchema: idSchema,\n        formData: formData,\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var additional = index >= itemSchemas.length;\n          var itemSchema = additional ? retrieveSchema(schema.additionalItems, rootSchema, item) : itemSchemas[index];\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          var itemUiSchema = additional ? uiSchema.additionalItems || {} : Array.isArray(uiSchema.items) ? uiSchema.items[index] : uiSchema.items || {};\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          return _this3.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canRemove: additional,\n            canMoveUp: index >= itemSchemas.length + 1,\n            canMoveDown: additional && index < items.length - 1,\n            itemSchema: itemSchema,\n            itemData: item,\n            itemUiSchema: itemUiSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        uiSchema: uiSchema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        rawErrors: rawErrors\n      }; // Check if a custom template template was passed in\n\n      var Template = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultFixedArrayFieldTemplate;\n      return React.createElement(Template, arrayProps);\n    }\n  }, {\n    key: \"renderArrayFieldItem\",\n    value: function renderArrayFieldItem(props) {\n      var key = props.key,\n          index = props.index,\n          _props$canRemove = props.canRemove,\n          canRemove = _props$canRemove === void 0 ? true : _props$canRemove,\n          _props$canMoveUp = props.canMoveUp,\n          canMoveUp = _props$canMoveUp === void 0 ? true : _props$canMoveUp,\n          _props$canMoveDown = props.canMoveDown,\n          canMoveDown = _props$canMoveDown === void 0 ? true : _props$canMoveDown,\n          itemSchema = props.itemSchema,\n          itemData = props.itemData,\n          itemUiSchema = props.itemUiSchema,\n          itemIdSchema = props.itemIdSchema,\n          itemErrorSchema = props.itemErrorSchema,\n          autofocus = props.autofocus,\n          onBlur = props.onBlur,\n          onFocus = props.onFocus,\n          rawErrors = props.rawErrors;\n      var _this$props9 = this.props,\n          disabled = _this$props9.disabled,\n          readonly = _this$props9.readonly,\n          uiSchema = _this$props9.uiSchema,\n          _this$props9$registry = _this$props9.registry,\n          registry = _this$props9$registry === void 0 ? getDefaultRegistry() : _this$props9$registry;\n      var SchemaField = registry.fields.SchemaField;\n\n      var _orderable$removable$ = _objectSpread({\n        orderable: true,\n        removable: true\n      }, uiSchema[\"ui:options\"]),\n          orderable = _orderable$removable$.orderable,\n          removable = _orderable$removable$.removable;\n\n      var has = {\n        moveUp: orderable && canMoveUp,\n        moveDown: orderable && canMoveDown,\n        remove: removable && canRemove\n      };\n      has.toolbar = Object.keys(has).some(function (key) {\n        return has[key];\n      });\n      return {\n        children: React.createElement(SchemaField, {\n          index: index,\n          schema: itemSchema,\n          uiSchema: itemUiSchema,\n          formData: itemData,\n          errorSchema: itemErrorSchema,\n          idSchema: itemIdSchema,\n          required: this.isItemRequired(itemSchema),\n          onChange: this.onChangeForIndex(index),\n          onBlur: onBlur,\n          onFocus: onFocus,\n          registry: this.props.registry,\n          disabled: this.props.disabled,\n          readonly: this.props.readonly,\n          autofocus: autofocus,\n          rawErrors: rawErrors\n        }),\n        className: \"array-item\",\n        disabled: disabled,\n        hasToolbar: has.toolbar,\n        hasMoveUp: has.moveUp,\n        hasMoveDown: has.moveDown,\n        hasRemove: has.remove,\n        index: index,\n        key: key,\n        onAddIndexClick: this.onAddIndexClick,\n        onDropIndexClick: this.onDropIndexClick,\n        onReorderClick: this.onReorderClick,\n        readonly: readonly\n      };\n    }\n  }, {\n    key: \"itemTitle\",\n    get: function get() {\n      var schema = this.props.schema;\n      return schema.items.title || schema.items.description || \"Item\";\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n      if (prevState.updatedKeyedFormData) {\n        return {\n          updatedKeyedFormData: false\n        };\n      }\n\n      var nextFormData = nextProps.formData || [];\n      var previousKeyedFormData = prevState.keyedFormData || [];\n      var newKeyedFormData = nextFormData.length === previousKeyedFormData.length ? previousKeyedFormData.map(function (previousKeyedFormDatum, index) {\n        return {\n          key: previousKeyedFormDatum.key,\n          item: nextFormData[index]\n        };\n      }) : generateKeyedFormData(nextFormData);\n      return {\n        keyedFormData: newKeyedFormData\n      };\n    }\n  }]);\n\n  return ArrayField;\n}(Component);\n\n_defineProperty(ArrayField, \"defaultProps\", {\n  uiSchema: {},\n  formData: [],\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ArrayField.propTypes = types.fieldProps;\n}\n\nexport default ArrayField;","map":{"version":3,"sources":["C:/Users/Akshaj Bansal/json parser/my-app/node_modules/@rjsf/core/dist/es/components/fields/ArrayField.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","call","sourceKeys","keys","_objectSpread","arguments","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","Array","from","isArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","AddButton","IconButton","React","Component","includes","types","getWidget","getDefaultFormState","getUiOptions","isMultiSelect","isFilesArray","isFixedItems","allowAdditionalItems","optionsList","retrieveSchema","toIdSchema","getDefaultRegistry","nanoid","ArrayFieldTitle","_ref","TitleField","idSchema","title","required","id","$id","createElement","ArrayFieldDescription","_ref2","DescriptionField","description","DefaultArrayItem","btnStyle","flex","paddingLeft","paddingRight","fontWeight","className","hasToolbar","children","style","display","justifyContent","hasMoveUp","hasMoveDown","icon","tabIndex","disabled","readonly","onClick","onReorderClick","index","hasRemove","type","onDropIndexClick","DefaultFixedArrayFieldTemplate","uiSchema","schema","items","map","canAdd","onAddClick","DefaultNormalArrayFieldTemplate","generateRowId","generateKeyedFormData","formData","item","keyedToPlainFormData","keyedFormData","keyedItem","ArrayField","_Component","_this","_this$props","_this$props$registry","registry","rootSchema","itemSchema","additionalItems","undefined","event","preventDefault","onChange","newKeyedFormDataRow","_getNewFormDataRow","newKeyedFormData","state","setState","updatedKeyedFormData","splice","newErrorSchema","errorSchema","parseInt","_","newIndex","blur","reOrderArray","_newKeyedFormData","slice","_this$props2","newFormData","jsonValue","_formData","_keyedFormData","isItemRequired","canAddItem","formItems","_this$props3","_getUiOptions","addable","maxItems","render","_this$props4","_this$props4$registry","hasOwnProperty","fields","UnsupportedField","reason","renderFixedArray","renderFiles","renderMultiSelect","renderNormalArray","_this2","_this$props5","name","autofocus","_this$props5$registry","onBlur","onFocus","idPrefix","rawErrors","ArrayFieldTemplate","formContext","itemsSchema","arrayProps","itemErrorSchema","itemIdPrefix","itemIdSchema","renderArrayFieldItem","canMoveUp","canMoveDown","itemData","itemUiSchema","_this$props6","label","placeholder","_this$props6$registry","widgets","enumOptions","_getUiOptions$enumOpt","_getUiOptions$enumOpt2","widget","options","Widget","multiple","onSelectChange","_this$props7","_this$props7$registry","_getUiOptions2","_getUiOptions2$widget","_this3","_this$props8","_this$props8$registry","itemSchemas","additionalSchema","additional","canRemove","Template","_props$canRemove","_props$canMoveUp","_props$canMoveDown","_this$props9","_this$props9$registry","SchemaField","_orderable$removable$","orderable","removable","has","moveUp","moveDown","remove","toolbar","some","onChangeForIndex","onAddIndexClick","get","getDerivedStateFromProps","nextProps","prevState","nextFormData","previousKeyedFormData","previousKeyedFormDatum","process","env","NODE_ENV","propTypes","fieldProps"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;;AAE/V,SAASK,wBAAT,CAAkCC,MAAlC,EAA0CC,QAA1C,EAAoD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;;AAAW,MAAIE,MAAM,GAAGC,6BAA6B,CAACH,MAAD,EAASC,QAAT,CAA1C;;AAA8D,MAAIG,GAAJ,EAASC,CAAT;;AAAY,MAAIC,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,gBAAgB,GAAGF,MAAM,CAACC,qBAAP,CAA6BP,MAA7B,CAAvB;;AAA6D,SAAKK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGG,gBAAgB,CAACC,MAAjC,EAAyCJ,CAAC,EAA1C,EAA8C;AAAED,MAAAA,GAAG,GAAGI,gBAAgB,CAACH,CAAD,CAAtB;AAA2B,UAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,UAAI,CAACE,MAAM,CAACR,SAAP,CAAiBa,oBAAjB,CAAsCC,IAAtC,CAA2CZ,MAA3C,EAAmDI,GAAnD,CAAL,EAA8D;AAAUF,MAAAA,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;AAA4B;AAAE;;AAAC,SAAOF,MAAP;AAAgB;;AAE5e,SAASC,6BAAT,CAAuCH,MAAvC,EAA+CC,QAA/C,EAAyD;AAAE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIE,MAAM,GAAG,EAAb;AAAiB,MAAIW,UAAU,GAAGP,MAAM,CAACQ,IAAP,CAAYd,MAAZ,CAAjB;AAAsC,MAAII,GAAJ,EAASC,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGQ,UAAU,CAACJ,MAA3B,EAAmCJ,CAAC,EAApC,EAAwC;AAAED,IAAAA,GAAG,GAAGS,UAAU,CAACR,CAAD,CAAhB;AAAqB,QAAIJ,QAAQ,CAACS,OAAT,CAAiBN,GAAjB,KAAyB,CAA7B,EAAgC;AAAUF,IAAAA,MAAM,CAACE,GAAD,CAAN,GAAcJ,MAAM,CAACI,GAAD,CAApB;AAA4B;;AAAC,SAAOF,MAAP;AAAgB;;AAEnT,SAASa,aAAT,CAAuBb,MAAvB,EAA+B;AAAE,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGW,SAAS,CAACP,MAA9B,EAAsCJ,CAAC,EAAvC,EAA2C;AAAE,QAAIL,MAAM,GAAGgB,SAAS,CAACX,CAAD,CAAT,IAAgB,IAAhB,GAAuBW,SAAS,CAACX,CAAD,CAAhC,GAAsC,EAAnD;AAAuD,QAAIY,OAAO,GAAGX,MAAM,CAACQ,IAAP,CAAYd,MAAZ,CAAd;;AAAmC,QAAI,OAAOM,MAAM,CAACC,qBAAd,KAAwC,UAA5C,EAAwD;AAAEU,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAeZ,MAAM,CAACC,qBAAP,CAA6BP,MAA7B,EAAqCmB,MAArC,CAA4C,UAAUC,GAAV,EAAe;AAAE,eAAOd,MAAM,CAACe,wBAAP,CAAgCrB,MAAhC,EAAwCoB,GAAxC,EAA6CE,UAApD;AAAiE,OAA9H,CAAf,CAAV;AAA4J;;AAACL,IAAAA,OAAO,CAACM,OAAR,CAAgB,UAAUnB,GAAV,EAAe;AAAEoB,MAAAA,eAAe,CAACtB,MAAD,EAASE,GAAT,EAAcJ,MAAM,CAACI,GAAD,CAApB,CAAf;AAA4C,KAA7E;AAAiF;;AAAC,SAAOF,MAAP;AAAgB;;AAEje,SAASuB,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,SAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,kBAAkB,EAA7E;AAAkF;;AAErH,SAASA,kBAAT,GAA8B;AAAE,QAAM,IAAIC,SAAJ,CAAc,iDAAd,CAAN;AAAyE;;AAEzG,SAASF,gBAAT,CAA0BG,IAA1B,EAAgC;AAAE,MAAIpC,MAAM,CAACC,QAAP,IAAmBU,MAAM,CAACyB,IAAD,CAAzB,IAAmCzB,MAAM,CAACR,SAAP,CAAiBkC,QAAjB,CAA0BpB,IAA1B,CAA+BmB,IAA/B,MAAyC,oBAAhF,EAAsG,OAAOE,KAAK,CAACC,IAAN,CAAWH,IAAX,CAAP;AAA0B;;AAElK,SAASJ,kBAAT,CAA4BD,GAA5B,EAAiC;AAAE,MAAIO,KAAK,CAACE,OAAN,CAAcT,GAAd,CAAJ,EAAwB;AAAE,SAAK,IAAIrB,CAAC,GAAG,CAAR,EAAW+B,IAAI,GAAG,IAAIH,KAAJ,CAAUP,GAAG,CAACjB,MAAd,CAAvB,EAA8CJ,CAAC,GAAGqB,GAAG,CAACjB,MAAtD,EAA8DJ,CAAC,EAA/D,EAAmE;AAAE+B,MAAAA,IAAI,CAAC/B,CAAD,CAAJ,GAAUqB,GAAG,CAACrB,CAAD,CAAb;AAAmB;;AAAC,WAAO+B,IAAP;AAAc;AAAE;;AAEtK,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIT,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASU,iBAAT,CAA2BtC,MAA3B,EAAmCuC,KAAnC,EAA0C;AAAE,OAAK,IAAIpC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoC,KAAK,CAAChC,MAA1B,EAAkCJ,CAAC,EAAnC,EAAuC;AAAE,QAAIqC,UAAU,GAAGD,KAAK,CAACpC,CAAD,CAAtB;AAA2BqC,IAAAA,UAAU,CAACpB,UAAX,GAAwBoB,UAAU,CAACpB,UAAX,IAAyB,KAAjD;AAAwDoB,IAAAA,UAAU,CAACC,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWD,UAAf,EAA2BA,UAAU,CAACE,QAAX,GAAsB,IAAtB;AAA4BtC,IAAAA,MAAM,CAACuC,cAAP,CAAsB3C,MAAtB,EAA8BwC,UAAU,CAACtC,GAAzC,EAA8CsC,UAA9C;AAA4D;AAAE;;AAE7T,SAASI,YAAT,CAAsBP,WAAtB,EAAmCQ,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBP,iBAAiB,CAACD,WAAW,CAACzC,SAAb,EAAwBiD,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBR,iBAAiB,CAACD,WAAD,EAAcS,WAAd,CAAjB;AAA6C,SAAOT,WAAP;AAAqB;;AAEvN,SAASU,0BAAT,CAAoCC,IAApC,EAA0CtC,IAA1C,EAAgD;AAAE,MAAIA,IAAI,KAAKnB,OAAO,CAACmB,IAAD,CAAP,KAAkB,QAAlB,IAA8B,OAAOA,IAAP,KAAgB,UAAnD,CAAR,EAAwE;AAAE,WAAOA,IAAP;AAAc;;AAAC,SAAOuC,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAEjL,SAASE,eAAT,CAAyBC,CAAzB,EAA4B;AAAED,EAAAA,eAAe,GAAG9C,MAAM,CAACgD,cAAP,GAAwBhD,MAAM,CAACiD,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAAE,WAAOA,CAAC,CAACG,SAAF,IAAelD,MAAM,CAACiD,cAAP,CAAsBF,CAAtB,CAAtB;AAAiD,GAAjJ;AAAmJ,SAAOD,eAAe,CAACC,CAAD,CAAtB;AAA4B;;AAE7M,SAASF,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,UAAM,IAAIO,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOP,IAAP;AAAc;;AAEtK,SAASQ,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAI9B,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAAC6B,EAAAA,QAAQ,CAAC7D,SAAT,GAAqBQ,MAAM,CAACuD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAC9D,SAAvC,EAAkD;AAAED,IAAAA,WAAW,EAAE;AAAEiE,MAAAA,KAAK,EAAEH,QAAT;AAAmBf,MAAAA,QAAQ,EAAE,IAA7B;AAAmCD,MAAAA,YAAY,EAAE;AAAjD;AAAf,GAAlD,CAArB;AAAkJ,MAAIiB,UAAJ,EAAgBG,eAAe,CAACJ,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,SAASG,eAAT,CAAyBV,CAAzB,EAA4BW,CAA5B,EAA+B;AAAED,EAAAA,eAAe,GAAGzD,MAAM,CAACgD,cAAP,IAAyB,SAASS,eAAT,CAAyBV,CAAzB,EAA4BW,CAA5B,EAA+B;AAAEX,IAAAA,CAAC,CAACG,SAAF,GAAcQ,CAAd;AAAiB,WAAOX,CAAP;AAAW,GAAxG;;AAA0G,SAAOU,eAAe,CAACV,CAAD,EAAIW,CAAJ,CAAtB;AAA+B;;AAE1K,SAASxC,eAAT,CAAyB9B,GAAzB,EAA8BU,GAA9B,EAAmC0D,KAAnC,EAA0C;AAAE,MAAI1D,GAAG,IAAIV,GAAX,EAAgB;AAAEY,IAAAA,MAAM,CAACuC,cAAP,CAAsBnD,GAAtB,EAA2BU,GAA3B,EAAgC;AAAE0D,MAAAA,KAAK,EAAEA,KAAT;AAAgBxC,MAAAA,UAAU,EAAE,IAA5B;AAAkCqB,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAElD,IAAAA,GAAG,CAACU,GAAD,CAAH,GAAW0D,KAAX;AAAmB;;AAAC,SAAOpE,GAAP;AAAa;;AAEjN,OAAOuE,SAAP,MAAsB,cAAtB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,aAAvB;AACA,SAASC,SAAT,EAAoBC,mBAApB,EAAyCC,YAAzC,EAAuDC,aAAvD,EAAsEC,YAAtE,EAAoFC,YAApF,EAAkGC,oBAAlG,EAAwHC,WAAxH,EAAqIC,cAArI,EAAqJC,UAArJ,EAAiKC,kBAAjK,QAA2L,aAA3L;AACA,SAASC,MAAT,QAAuB,QAAvB;;AAEA,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;AAC7B,MAAIC,UAAU,GAAGD,IAAI,CAACC,UAAtB;AAAA,MACIC,QAAQ,GAAGF,IAAI,CAACE,QADpB;AAAA,MAEIC,KAAK,GAAGH,IAAI,CAACG,KAFjB;AAAA,MAGIC,QAAQ,GAAGJ,IAAI,CAACI,QAHpB;;AAKA,MAAI,CAACD,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAIE,EAAE,GAAG,GAAGvE,MAAH,CAAUoE,QAAQ,CAACI,GAAnB,EAAwB,SAAxB,CAAT;AACA,SAAOvB,KAAK,CAACwB,aAAN,CAAoBN,UAApB,EAAgC;AACrCI,IAAAA,EAAE,EAAEA,EADiC;AAErCF,IAAAA,KAAK,EAAEA,KAF8B;AAGrCC,IAAAA,QAAQ,EAAEA;AAH2B,GAAhC,CAAP;AAKD;;AAED,SAASI,qBAAT,CAA+BC,KAA/B,EAAsC;AACpC,MAAIC,gBAAgB,GAAGD,KAAK,CAACC,gBAA7B;AAAA,MACIR,QAAQ,GAAGO,KAAK,CAACP,QADrB;AAAA,MAEIS,WAAW,GAAGF,KAAK,CAACE,WAFxB;;AAIA,MAAI,CAACA,WAAL,EAAkB;AAChB,WAAO,IAAP;AACD;;AAED,MAAIN,EAAE,GAAG,GAAGvE,MAAH,CAAUoE,QAAQ,CAACI,GAAnB,EAAwB,eAAxB,CAAT;AACA,SAAOvB,KAAK,CAACwB,aAAN,CAAoBG,gBAApB,EAAsC;AAC3CL,IAAAA,EAAE,EAAEA,EADuC;AAE3CM,IAAAA,WAAW,EAAEA;AAF8B,GAAtC,CAAP;AAID,C,CAAC;;;AAGF,SAASC,gBAAT,CAA0BvD,KAA1B,EAAiC;AAC/B,MAAIwD,QAAQ,GAAG;AACbC,IAAAA,IAAI,EAAE,CADO;AAEbC,IAAAA,WAAW,EAAE,CAFA;AAGbC,IAAAA,YAAY,EAAE,CAHD;AAIbC,IAAAA,UAAU,EAAE;AAJC,GAAf;AAMA,SAAOlC,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAChCvF,IAAAA,GAAG,EAAEqC,KAAK,CAACrC,GADqB;AAEhCkG,IAAAA,SAAS,EAAE7D,KAAK,CAAC6D;AAFe,GAA3B,EAGJnC,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAC5BW,IAAAA,SAAS,EAAE7D,KAAK,CAAC8D,UAAN,GAAmB,UAAnB,GAAgC;AADf,GAA3B,EAEA9D,KAAK,CAAC+D,QAFN,CAHI,EAKa/D,KAAK,CAAC8D,UAAN,IAAoBpC,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AACjEW,IAAAA,SAAS,EAAE;AADsD,GAA3B,EAErCnC,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAC5BW,IAAAA,SAAS,EAAE,WADiB;AAE5BG,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,cAAc,EAAE;AAFX;AAFqB,GAA3B,EAMA,CAAClE,KAAK,CAACmE,SAAN,IAAmBnE,KAAK,CAACoE,WAA1B,KAA0C1C,KAAK,CAACwB,aAAN,CAAoBzB,UAApB,EAAgC;AAC3E4C,IAAAA,IAAI,EAAE,UADqE;AAE3E,kBAAc,SAF6D;AAG3ER,IAAAA,SAAS,EAAE,oBAHgE;AAI3ES,IAAAA,QAAQ,EAAE,IAJiE;AAK3EN,IAAAA,KAAK,EAAER,QALoE;AAM3Ee,IAAAA,QAAQ,EAAEvE,KAAK,CAACuE,QAAN,IAAkBvE,KAAK,CAACwE,QAAxB,IAAoC,CAACxE,KAAK,CAACmE,SANsB;AAO3EM,IAAAA,OAAO,EAAEzE,KAAK,CAAC0E,cAAN,CAAqB1E,KAAK,CAAC2E,KAA3B,EAAkC3E,KAAK,CAAC2E,KAAN,GAAc,CAAhD;AAPkE,GAAhC,CAN1C,EAcC,CAAC3E,KAAK,CAACmE,SAAN,IAAmBnE,KAAK,CAACoE,WAA1B,KAA0C1C,KAAK,CAACwB,aAAN,CAAoBzB,UAApB,EAAgC;AAC5E4C,IAAAA,IAAI,EAAE,YADsE;AAE5ER,IAAAA,SAAS,EAAE,sBAFiE;AAG5E,kBAAc,WAH8D;AAI5ES,IAAAA,QAAQ,EAAE,IAJkE;AAK5EN,IAAAA,KAAK,EAAER,QALqE;AAM5Ee,IAAAA,QAAQ,EAAEvE,KAAK,CAACuE,QAAN,IAAkBvE,KAAK,CAACwE,QAAxB,IAAoC,CAACxE,KAAK,CAACoE,WANuB;AAO5EK,IAAAA,OAAO,EAAEzE,KAAK,CAAC0E,cAAN,CAAqB1E,KAAK,CAAC2E,KAA3B,EAAkC3E,KAAK,CAAC2E,KAAN,GAAc,CAAhD;AAPmE,GAAhC,CAd3C,EAsBC3E,KAAK,CAAC4E,SAAN,IAAmBlD,KAAK,CAACwB,aAAN,CAAoBzB,UAApB,EAAgC;AACrDoD,IAAAA,IAAI,EAAE,QAD+C;AAErDR,IAAAA,IAAI,EAAE,QAF+C;AAGrD,kBAAc,QAHuC;AAIrDR,IAAAA,SAAS,EAAE,mBAJ0C;AAKrDS,IAAAA,QAAQ,EAAE,IAL2C;AAMrDN,IAAAA,KAAK,EAAER,QAN8C;AAOrDe,IAAAA,QAAQ,EAAEvE,KAAK,CAACuE,QAAN,IAAkBvE,KAAK,CAACwE,QAPmB;AAQrDC,IAAAA,OAAO,EAAEzE,KAAK,CAAC8E,gBAAN,CAAuB9E,KAAK,CAAC2E,KAA7B;AAR4C,GAAhC,CAtBpB,CAFqC,CALjC,CAAP;AAuCD;;AAED,SAASI,8BAAT,CAAwC/E,KAAxC,EAA+C;AAC7C,SAAO0B,KAAK,CAACwB,aAAN,CAAoB,UAApB,EAAgC;AACrCW,IAAAA,SAAS,EAAE7D,KAAK,CAAC6D,SADoB;AAErCb,IAAAA,EAAE,EAAEhD,KAAK,CAAC6C,QAAN,CAAeI;AAFkB,GAAhC,EAGJvB,KAAK,CAACwB,aAAN,CAAoBR,eAApB,EAAqC;AACtC/E,IAAAA,GAAG,EAAE,qBAAqBc,MAArB,CAA4BuB,KAAK,CAAC6C,QAAN,CAAeI,GAA3C,CADiC;AAEtCL,IAAAA,UAAU,EAAE5C,KAAK,CAAC4C,UAFoB;AAGtCC,IAAAA,QAAQ,EAAE7C,KAAK,CAAC6C,QAHsB;AAItCC,IAAAA,KAAK,EAAE9C,KAAK,CAACgF,QAAN,CAAe,UAAf,KAA8BhF,KAAK,CAAC8C,KAJL;AAKtCC,IAAAA,QAAQ,EAAE/C,KAAK,CAAC+C;AALsB,GAArC,CAHI,EASH,CAAC/C,KAAK,CAACgF,QAAN,CAAe,gBAAf,KAAoChF,KAAK,CAACiF,MAAN,CAAa3B,WAAlD,KAAkE5B,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAC/FW,IAAAA,SAAS,EAAE,mBADoF;AAE/FlG,IAAAA,GAAG,EAAE,qBAAqBc,MAArB,CAA4BuB,KAAK,CAAC6C,QAAN,CAAeI,GAA3C;AAF0F,GAA3B,EAGnEjD,KAAK,CAACgF,QAAN,CAAe,gBAAf,KAAoChF,KAAK,CAACiF,MAAN,CAAa3B,WAHkB,CAT/D,EAY2D5B,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAC3FW,IAAAA,SAAS,EAAE,qBADgF;AAE3FlG,IAAAA,GAAG,EAAE,mBAAmBc,MAAnB,CAA0BuB,KAAK,CAAC6C,QAAN,CAAeI,GAAzC;AAFsF,GAA3B,EAG/DjD,KAAK,CAACkF,KAAN,IAAelF,KAAK,CAACkF,KAAN,CAAYC,GAAZ,CAAgB5B,gBAAhB,CAHgD,CAZ3D,EAe+CvD,KAAK,CAACoF,MAAN,IAAgB1D,KAAK,CAACwB,aAAN,CAAoB1B,SAApB,EAA+B;AACnGqC,IAAAA,SAAS,EAAE,gBADwF;AAEnGY,IAAAA,OAAO,EAAEzE,KAAK,CAACqF,UAFoF;AAGnGd,IAAAA,QAAQ,EAAEvE,KAAK,CAACuE,QAAN,IAAkBvE,KAAK,CAACwE;AAHiE,GAA/B,CAf/D,CAAP;AAoBD;;AAED,SAASc,+BAAT,CAAyCtF,KAAzC,EAAgD;AAC9C,SAAO0B,KAAK,CAACwB,aAAN,CAAoB,UAApB,EAAgC;AACrCW,IAAAA,SAAS,EAAE7D,KAAK,CAAC6D,SADoB;AAErCb,IAAAA,EAAE,EAAEhD,KAAK,CAAC6C,QAAN,CAAeI;AAFkB,GAAhC,EAGJvB,KAAK,CAACwB,aAAN,CAAoBR,eAApB,EAAqC;AACtC/E,IAAAA,GAAG,EAAE,qBAAqBc,MAArB,CAA4BuB,KAAK,CAAC6C,QAAN,CAAeI,GAA3C,CADiC;AAEtCL,IAAAA,UAAU,EAAE5C,KAAK,CAAC4C,UAFoB;AAGtCC,IAAAA,QAAQ,EAAE7C,KAAK,CAAC6C,QAHsB;AAItCC,IAAAA,KAAK,EAAE9C,KAAK,CAACgF,QAAN,CAAe,UAAf,KAA8BhF,KAAK,CAAC8C,KAJL;AAKtCC,IAAAA,QAAQ,EAAE/C,KAAK,CAAC+C;AALsB,GAArC,CAHI,EASH,CAAC/C,KAAK,CAACgF,QAAN,CAAe,gBAAf,KAAoChF,KAAK,CAACiF,MAAN,CAAa3B,WAAlD,KAAkE5B,KAAK,CAACwB,aAAN,CAAoBC,qBAApB,EAA2C;AAC/GxF,IAAAA,GAAG,EAAE,2BAA2Bc,MAA3B,CAAkCuB,KAAK,CAAC6C,QAAN,CAAeI,GAAjD,CAD0G;AAE/GI,IAAAA,gBAAgB,EAAErD,KAAK,CAACqD,gBAFuF;AAG/GR,IAAAA,QAAQ,EAAE7C,KAAK,CAAC6C,QAH+F;AAI/GS,IAAAA,WAAW,EAAEtD,KAAK,CAACgF,QAAN,CAAe,gBAAf,KAAoChF,KAAK,CAACiF,MAAN,CAAa3B;AAJiD,GAA3C,CAT/D,EAcH5B,KAAK,CAACwB,aAAN,CAAoB,KAApB,EAA2B;AAC7BW,IAAAA,SAAS,EAAE,qBADkB;AAE7BlG,IAAAA,GAAG,EAAE,mBAAmBc,MAAnB,CAA0BuB,KAAK,CAAC6C,QAAN,CAAeI,GAAzC;AAFwB,GAA3B,EAGDjD,KAAK,CAACkF,KAAN,IAAelF,KAAK,CAACkF,KAAN,CAAYC,GAAZ,CAAgB,UAAU5D,CAAV,EAAa;AAC7C,WAAOgC,gBAAgB,CAAChC,CAAD,CAAvB;AACD,GAFiB,CAHd,CAdG,EAmBFvB,KAAK,CAACoF,MAAN,IAAgB1D,KAAK,CAACwB,aAAN,CAAoB1B,SAApB,EAA+B;AAClDqC,IAAAA,SAAS,EAAE,gBADuC;AAElDY,IAAAA,OAAO,EAAEzE,KAAK,CAACqF,UAFmC;AAGlDd,IAAAA,QAAQ,EAAEvE,KAAK,CAACuE,QAAN,IAAkBvE,KAAK,CAACwE;AAHgB,GAA/B,CAnBd,CAAP;AAwBD;;AAED,SAASe,aAAT,GAAyB;AACvB,SAAO9C,MAAM,EAAb;AACD;;AAED,SAAS+C,qBAAT,CAA+BC,QAA/B,EAAyC;AACvC,SAAO,CAACjG,KAAK,CAACE,OAAN,CAAc+F,QAAd,CAAD,GAA2B,EAA3B,GAAgCA,QAAQ,CAACN,GAAT,CAAa,UAAUO,IAAV,EAAgB;AAClE,WAAO;AACL/H,MAAAA,GAAG,EAAE4H,aAAa,EADb;AAELG,MAAAA,IAAI,EAAEA;AAFD,KAAP;AAID,GALsC,CAAvC;AAMD;;AAED,SAASC,oBAAT,CAA8BC,aAA9B,EAA6C;AAC3C,SAAOA,aAAa,CAACT,GAAd,CAAkB,UAAUU,SAAV,EAAqB;AAC5C,WAAOA,SAAS,CAACH,IAAjB;AACD,GAFM,CAAP;AAGD;;AAED,IAAII,UAAU,GACd,aACA,UAAUC,UAAV,EAAsB;AACpB9E,EAAAA,SAAS,CAAC6E,UAAD,EAAaC,UAAb,CAAT;;AAEA,WAASD,UAAT,CAAoB9F,KAApB,EAA2B;AACzB,QAAIgG,KAAJ;;AAEApG,IAAAA,eAAe,CAAC,IAAD,EAAOkG,UAAP,CAAf;;AAEAE,IAAAA,KAAK,GAAGxF,0BAA0B,CAAC,IAAD,EAAOG,eAAe,CAACmF,UAAD,CAAf,CAA4B3H,IAA5B,CAAiC,IAAjC,EAAuC6B,KAAvC,CAAP,CAAlC;;AAEAjB,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,oBAAhC,EAAsD,YAAY;AAC/E,UAAIC,WAAW,GAAGD,KAAK,CAAChG,KAAxB;AAAA,UACIiF,MAAM,GAAGgB,WAAW,CAAChB,MADzB;AAAA,UAEIiB,oBAAoB,GAAGD,WAAW,CAACE,QAFvC;AAAA,UAGIA,QAAQ,GAAGD,oBAAoB,KAAK,KAAK,CAA9B,GAAkC1D,kBAAkB,EAApD,GAAyD0D,oBAHxE;AAIA,UAAIE,UAAU,GAAGD,QAAQ,CAACC,UAA1B;AACA,UAAIC,UAAU,GAAGpB,MAAM,CAACC,KAAxB;;AAEA,UAAI/C,YAAY,CAAC8C,MAAD,CAAZ,IAAwB7C,oBAAoB,CAAC6C,MAAD,CAAhD,EAA0D;AACxDoB,QAAAA,UAAU,GAAGpB,MAAM,CAACqB,eAApB;AACD;;AAED,aAAOvE,mBAAmB,CAACsE,UAAD,EAAaE,SAAb,EAAwBH,UAAxB,CAA1B;AACD,KAbc,CAAf;;AAeArH,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,UAAUQ,KAAV,EAAiB;AAC5E,UAAIA,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACC,cAAN;AACD;;AAED,UAAIC,QAAQ,GAAGV,KAAK,CAAChG,KAAN,CAAY0G,QAA3B;AACA,UAAIC,mBAAmB,GAAG;AACxBhJ,QAAAA,GAAG,EAAE4H,aAAa,EADM;AAExBG,QAAAA,IAAI,EAAEM,KAAK,CAACY,kBAAN;AAFkB,OAA1B;AAIA,UAAIC,gBAAgB,GAAG,GAAGpI,MAAH,CAAUO,kBAAkB,CAACgH,KAAK,CAACc,KAAN,CAAYlB,aAAb,CAA5B,EAAyD,CAACe,mBAAD,CAAzD,CAAvB;;AAEAX,MAAAA,KAAK,CAACe,QAAN,CAAe;AACbnB,QAAAA,aAAa,EAAEiB,gBADF;AAEbG,QAAAA,oBAAoB,EAAE;AAFT,OAAf,EAGG,YAAY;AACb,eAAON,QAAQ,CAACf,oBAAoB,CAACkB,gBAAD,CAArB,CAAf;AACD,OALD;AAMD,KAlBc,CAAf;;AAoBA9H,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,iBAAhC,EAAmD,UAAUrB,KAAV,EAAiB;AACjF,aAAO,UAAU6B,KAAV,EAAiB;AACtB,YAAIA,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACC,cAAN;AACD;;AAED,YAAIC,QAAQ,GAAGV,KAAK,CAAChG,KAAN,CAAY0G,QAA3B;AACA,YAAIC,mBAAmB,GAAG;AACxBhJ,UAAAA,GAAG,EAAE4H,aAAa,EADM;AAExBG,UAAAA,IAAI,EAAEM,KAAK,CAACY,kBAAN;AAFkB,SAA1B;;AAKA,YAAIC,gBAAgB,GAAG7H,kBAAkB,CAACgH,KAAK,CAACc,KAAN,CAAYlB,aAAb,CAAzC;;AAEAiB,QAAAA,gBAAgB,CAACI,MAAjB,CAAwBtC,KAAxB,EAA+B,CAA/B,EAAkCgC,mBAAlC;;AAEAX,QAAAA,KAAK,CAACe,QAAN,CAAe;AACbnB,UAAAA,aAAa,EAAEiB,gBADF;AAEbG,UAAAA,oBAAoB,EAAE;AAFT,SAAf,EAGG,YAAY;AACb,iBAAON,QAAQ,CAACf,oBAAoB,CAACkB,gBAAD,CAArB,CAAf;AACD,SALD;AAMD,OArBD;AAsBD,KAvBc,CAAf;;AAyBA9H,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,kBAAhC,EAAoD,UAAUrB,KAAV,EAAiB;AAClF,aAAO,UAAU6B,KAAV,EAAiB;AACtB,YAAIA,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACC,cAAN;AACD;;AAED,YAAIC,QAAQ,GAAGV,KAAK,CAAChG,KAAN,CAAY0G,QAA3B;AACA,YAAId,aAAa,GAAGI,KAAK,CAACc,KAAN,CAAYlB,aAAhC,CANsB,CAMyB;;AAE/C,YAAIsB,cAAJ;;AAEA,YAAIlB,KAAK,CAAChG,KAAN,CAAYmH,WAAhB,EAA6B;AAC3BD,UAAAA,cAAc,GAAG,EAAjB;AACA,cAAIC,WAAW,GAAGnB,KAAK,CAAChG,KAAN,CAAYmH,WAA9B;;AAEA,eAAK,IAAIvJ,CAAT,IAAcuJ,WAAd,EAA2B;AACzBvJ,YAAAA,CAAC,GAAGwJ,QAAQ,CAACxJ,CAAD,CAAZ;;AAEA,gBAAIA,CAAC,GAAG+G,KAAR,EAAe;AACbuC,cAAAA,cAAc,CAACtJ,CAAD,CAAd,GAAoBuJ,WAAW,CAACvJ,CAAD,CAA/B;AACD,aAFD,MAEO,IAAIA,CAAC,GAAG+G,KAAR,EAAe;AACpBuC,cAAAA,cAAc,CAACtJ,CAAC,GAAG,CAAL,CAAd,GAAwBuJ,WAAW,CAACvJ,CAAD,CAAnC;AACD;AACF;AACF;;AAED,YAAIiJ,gBAAgB,GAAGjB,aAAa,CAAClH,MAAd,CAAqB,UAAU2I,CAAV,EAAazJ,CAAb,EAAgB;AAC1D,iBAAOA,CAAC,KAAK+G,KAAb;AACD,SAFsB,CAAvB;;AAIAqB,QAAAA,KAAK,CAACe,QAAN,CAAe;AACbnB,UAAAA,aAAa,EAAEiB,gBADF;AAEbG,UAAAA,oBAAoB,EAAE;AAFT,SAAf,EAGG,YAAY;AACb,iBAAON,QAAQ,CAACf,oBAAoB,CAACkB,gBAAD,CAArB,EAAyCK,cAAzC,CAAf;AACD,SALD;AAMD,OAnCD;AAoCD,KArCc,CAAf;;AAuCAnI,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAUrB,KAAV,EAAiB2C,QAAjB,EAA2B;AAC1F,aAAO,UAAUd,KAAV,EAAiB;AACtB,YAAIA,KAAJ,EAAW;AACTA,UAAAA,KAAK,CAACC,cAAN;AACAD,UAAAA,KAAK,CAAC/I,MAAN,CAAa8J,IAAb;AACD;;AAED,YAAIb,QAAQ,GAAGV,KAAK,CAAChG,KAAN,CAAY0G,QAA3B;AACA,YAAIQ,cAAJ;;AAEA,YAAIlB,KAAK,CAAChG,KAAN,CAAYmH,WAAhB,EAA6B;AAC3BD,UAAAA,cAAc,GAAG,EAAjB;AACA,cAAIC,WAAW,GAAGnB,KAAK,CAAChG,KAAN,CAAYmH,WAA9B;;AAEA,eAAK,IAAIvJ,CAAT,IAAcuJ,WAAd,EAA2B;AACzB,gBAAIvJ,CAAC,IAAI+G,KAAT,EAAgB;AACduC,cAAAA,cAAc,CAACI,QAAD,CAAd,GAA2BH,WAAW,CAACxC,KAAD,CAAtC;AACD,aAFD,MAEO,IAAI/G,CAAC,IAAI0J,QAAT,EAAmB;AACxBJ,cAAAA,cAAc,CAACvC,KAAD,CAAd,GAAwBwC,WAAW,CAACG,QAAD,CAAnC;AACD,aAFM,MAEA;AACLJ,cAAAA,cAAc,CAACtJ,CAAD,CAAd,GAAoBuJ,WAAW,CAACvJ,CAAD,CAA/B;AACD;AACF;AACF;;AAED,YAAIgI,aAAa,GAAGI,KAAK,CAACc,KAAN,CAAYlB,aAAhC;;AAEA,iBAAS4B,YAAT,GAAwB;AACtB;AACA,cAAIC,iBAAiB,GAAG7B,aAAa,CAAC8B,KAAd,EAAxB,CAFsB,CAEyB;;;AAG/CD,UAAAA,iBAAiB,CAACR,MAAlB,CAAyBtC,KAAzB,EAAgC,CAAhC;;AAEA8C,UAAAA,iBAAiB,CAACR,MAAlB,CAAyBK,QAAzB,EAAmC,CAAnC,EAAsC1B,aAAa,CAACjB,KAAD,CAAnD;;AAEA,iBAAO8C,iBAAP;AACD;;AAED,YAAIZ,gBAAgB,GAAGW,YAAY,EAAnC;;AAEAxB,QAAAA,KAAK,CAACe,QAAN,CAAe;AACbnB,UAAAA,aAAa,EAAEiB;AADF,SAAf,EAEG,YAAY;AACb,iBAAOH,QAAQ,CAACf,oBAAoB,CAACkB,gBAAD,CAArB,EAAyCK,cAAzC,CAAf;AACD,SAJD;AAKD,OA7CD;AA8CD,KA/Cc,CAAf;;AAiDAnI,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,kBAAhC,EAAoD,UAAUrB,KAAV,EAAiB;AAClF,aAAO,UAAUtD,KAAV,EAAiB8F,WAAjB,EAA8B;AACnC,YAAIQ,YAAY,GAAG3B,KAAK,CAAChG,KAAzB;AAAA,YACIyF,QAAQ,GAAGkC,YAAY,CAAClC,QAD5B;AAAA,YAEIiB,QAAQ,GAAGiB,YAAY,CAACjB,QAF5B;AAGA,YAAIkB,WAAW,GAAGnC,QAAQ,CAACN,GAAT,CAAa,UAAUO,IAAV,EAAgB9H,CAAhB,EAAmB;AAChD;AACA;AACA,cAAIiK,SAAS,GAAG,OAAOxG,KAAP,KAAiB,WAAjB,GAA+B,IAA/B,GAAsCA,KAAtD;AACA,iBAAOsD,KAAK,KAAK/G,CAAV,GAAciK,SAAd,GAA0BnC,IAAjC;AACD,SALiB,CAAlB;AAMAgB,QAAAA,QAAQ,CAACkB,WAAD,EAAcT,WAAW,IAAInB,KAAK,CAAChG,KAAN,CAAYmH,WAA3B,IAA0C7I,aAAa,CAAC,EAAD,EAAK0H,KAAK,CAAChG,KAAN,CAAYmH,WAAjB,EAA8BpI,eAAe,CAAC,EAAD,EAAK4F,KAAL,EAAYwC,WAAZ,CAA7C,CAArE,CAAR;AACD,OAXD;AAYD,KAbc,CAAf;;AAeApI,IAAAA,eAAe,CAAC2B,sBAAsB,CAACsF,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAU3E,KAAV,EAAiB;AAChF2E,MAAAA,KAAK,CAAChG,KAAN,CAAY0G,QAAZ,CAAqBrF,KAArB;AACD,KAFc,CAAf;;AAIA,QAAIyG,SAAS,GAAG9H,KAAK,CAACyF,QAAtB;;AAEA,QAAIsC,cAAc,GAAGvC,qBAAqB,CAACsC,SAAD,CAA1C;;AAEA9B,IAAAA,KAAK,CAACc,KAAN,GAAc;AACZlB,MAAAA,aAAa,EAAEmC,cADH;AAEZf,MAAAA,oBAAoB,EAAE;AAFV,KAAd;AAIA,WAAOhB,KAAP;AACD;;AAED3F,EAAAA,YAAY,CAACyF,UAAD,EAAa,CAAC;AACxBnI,IAAAA,GAAG,EAAE,gBADmB;AAExB0D,IAAAA,KAAK,EAAE,SAAS2G,cAAT,CAAwB3B,UAAxB,EAAoC;AACzC,UAAI7G,KAAK,CAACE,OAAN,CAAc2G,UAAU,CAACxB,IAAzB,CAAJ,EAAoC;AAClC;AACA;AACA,eAAO,CAACjD,QAAQ,CAACyE,UAAU,CAACxB,IAAZ,EAAkB,MAAlB,CAAhB;AACD,OALwC,CAKvC;;;AAGF,aAAOwB,UAAU,CAACxB,IAAX,KAAoB,MAA3B;AACD;AAXuB,GAAD,EAYtB;AACDlH,IAAAA,GAAG,EAAE,YADJ;AAED0D,IAAAA,KAAK,EAAE,SAAS4G,UAAT,CAAoBC,SAApB,EAA+B;AACpC,UAAIC,YAAY,GAAG,KAAKnI,KAAxB;AAAA,UACIiF,MAAM,GAAGkD,YAAY,CAAClD,MAD1B;AAAA,UAEID,QAAQ,GAAGmD,YAAY,CAACnD,QAF5B;;AAIA,UAAIoD,aAAa,GAAGpG,YAAY,CAACgD,QAAD,CAAhC;AAAA,UACIqD,OAAO,GAAGD,aAAa,CAACC,OAD5B;;AAGA,UAAIA,OAAO,KAAK,KAAhB,EAAuB;AACrB;AACA;AACA,YAAIpD,MAAM,CAACqD,QAAP,KAAoB/B,SAAxB,EAAmC;AACjC8B,UAAAA,OAAO,GAAGH,SAAS,CAAClK,MAAV,GAAmBiH,MAAM,CAACqD,QAApC;AACD,SAFD,MAEO;AACLD,UAAAA,OAAO,GAAG,IAAV;AACD;AACF;;AAED,aAAOA,OAAP;AACD;AArBA,GAZsB,EAkCtB;AACD1K,IAAAA,GAAG,EAAE,QADJ;AAED0D,IAAAA,KAAK,EAAE,SAASkH,MAAT,GAAkB;AACvB,UAAIC,YAAY,GAAG,KAAKxI,KAAxB;AAAA,UACIiF,MAAM,GAAGuD,YAAY,CAACvD,MAD1B;AAAA,UAEID,QAAQ,GAAGwD,YAAY,CAACxD,QAF5B;AAAA,UAGInC,QAAQ,GAAG2F,YAAY,CAAC3F,QAH5B;AAAA,UAII4F,qBAAqB,GAAGD,YAAY,CAACrC,QAJzC;AAAA,UAKIA,QAAQ,GAAGsC,qBAAqB,KAAK,KAAK,CAA/B,GAAmCjG,kBAAkB,EAArD,GAA0DiG,qBALzE;AAMA,UAAIrC,UAAU,GAAGD,QAAQ,CAACC,UAA1B;;AAEA,UAAI,CAACnB,MAAM,CAACyD,cAAP,CAAsB,OAAtB,CAAL,EAAqC;AACnC,YAAIC,MAAM,GAAGxC,QAAQ,CAACwC,MAAtB;AACA,YAAIC,gBAAgB,GAAGD,MAAM,CAACC,gBAA9B;AACA,eAAOlH,KAAK,CAACwB,aAAN,CAAoB0F,gBAApB,EAAsC;AAC3C3D,UAAAA,MAAM,EAAEA,MADmC;AAE3CpC,UAAAA,QAAQ,EAAEA,QAFiC;AAG3CgG,UAAAA,MAAM,EAAE;AAHmC,SAAtC,CAAP;AAKD;;AAED,UAAI1G,YAAY,CAAC8C,MAAD,CAAhB,EAA0B;AACxB,eAAO,KAAK6D,gBAAL,EAAP;AACD;;AAED,UAAI5G,YAAY,CAAC+C,MAAD,EAASD,QAAT,EAAmBoB,UAAnB,CAAhB,EAAgD;AAC9C,eAAO,KAAK2C,WAAL,EAAP;AACD;;AAED,UAAI9G,aAAa,CAACgD,MAAD,EAASmB,UAAT,CAAjB,EAAuC;AACrC,eAAO,KAAK4C,iBAAL,EAAP;AACD;;AAED,aAAO,KAAKC,iBAAL,EAAP;AACD;AAlCA,GAlCsB,EAqEtB;AACDtL,IAAAA,GAAG,EAAE,mBADJ;AAED0D,IAAAA,KAAK,EAAE,SAAS4H,iBAAT,GAA6B;AAClC,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,YAAY,GAAG,KAAKnJ,KAAxB;AAAA,UACIiF,MAAM,GAAGkE,YAAY,CAAClE,MAD1B;AAAA,UAEID,QAAQ,GAAGmE,YAAY,CAACnE,QAF5B;AAAA,UAGImC,WAAW,GAAGgC,YAAY,CAAChC,WAH/B;AAAA,UAIItE,QAAQ,GAAGsG,YAAY,CAACtG,QAJ5B;AAAA,UAKIuG,IAAI,GAAGD,YAAY,CAACC,IALxB;AAAA,UAMIrG,QAAQ,GAAGoG,YAAY,CAACpG,QAN5B;AAAA,UAOIwB,QAAQ,GAAG4E,YAAY,CAAC5E,QAP5B;AAAA,UAQIC,QAAQ,GAAG2E,YAAY,CAAC3E,QAR5B;AAAA,UASI6E,SAAS,GAAGF,YAAY,CAACE,SAT7B;AAAA,UAUIC,qBAAqB,GAAGH,YAAY,CAAChD,QAVzC;AAAA,UAWIA,QAAQ,GAAGmD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC9G,kBAAkB,EAArD,GAA0D8G,qBAXzE;AAAA,UAYIC,MAAM,GAAGJ,YAAY,CAACI,MAZ1B;AAAA,UAaIC,OAAO,GAAGL,YAAY,CAACK,OAb3B;AAAA,UAcIC,QAAQ,GAAGN,YAAY,CAACM,QAd5B;AAAA,UAeIC,SAAS,GAAGP,YAAY,CAACO,SAf7B;AAgBA,UAAI5G,KAAK,GAAGmC,MAAM,CAACnC,KAAP,KAAiByD,SAAjB,GAA6B6C,IAA7B,GAAoCnE,MAAM,CAACnC,KAAvD;AACA,UAAI6G,kBAAkB,GAAGxD,QAAQ,CAACwD,kBAAlC;AAAA,UACIvD,UAAU,GAAGD,QAAQ,CAACC,UAD1B;AAAA,UAEIuC,MAAM,GAAGxC,QAAQ,CAACwC,MAFtB;AAAA,UAGIiB,WAAW,GAAGzD,QAAQ,CAACyD,WAH3B;AAIA,UAAIhH,UAAU,GAAG+F,MAAM,CAAC/F,UAAxB;AAAA,UACIS,gBAAgB,GAAGsF,MAAM,CAACtF,gBAD9B;AAEA,UAAIwG,WAAW,GAAGvH,cAAc,CAAC2C,MAAM,CAACC,KAAR,EAAekB,UAAf,CAAhC;AACA,UAAIX,QAAQ,GAAGE,oBAAoB,CAAC,KAAKmB,KAAL,CAAWlB,aAAZ,CAAnC;AACA,UAAIkE,UAAU,GAAG;AACf1E,QAAAA,MAAM,EAAE,KAAK6C,UAAL,CAAgBxC,QAAhB,CADO;AAEfP,QAAAA,KAAK,EAAE,KAAK4B,KAAL,CAAWlB,aAAX,CAAyBT,GAAzB,CAA6B,UAAUU,SAAV,EAAqBlB,KAArB,EAA4B;AAC9D,cAAIhH,GAAG,GAAGkI,SAAS,CAAClI,GAApB;AAAA,cACI+H,IAAI,GAAGG,SAAS,CAACH,IADrB;AAEA,cAAIW,UAAU,GAAG/D,cAAc,CAAC2C,MAAM,CAACC,KAAR,EAAekB,UAAf,EAA2BV,IAA3B,CAA/B;AACA,cAAIqE,eAAe,GAAG5C,WAAW,GAAGA,WAAW,CAACxC,KAAD,CAAd,GAAwB4B,SAAzD;AACA,cAAIyD,YAAY,GAAGnH,QAAQ,CAACI,GAAT,GAAe,GAAf,GAAqB0B,KAAxC;AACA,cAAIsF,YAAY,GAAG1H,UAAU,CAAC8D,UAAD,EAAa2D,YAAb,EAA2B5D,UAA3B,EAAuCV,IAAvC,EAA6C+D,QAA7C,CAA7B;AACA,iBAAOP,MAAM,CAACgB,oBAAP,CAA4B;AACjCvM,YAAAA,GAAG,EAAEA,GAD4B;AAEjCgH,YAAAA,KAAK,EAAEA,KAF0B;AAGjCwF,YAAAA,SAAS,EAAExF,KAAK,GAAG,CAHc;AAIjCyF,YAAAA,WAAW,EAAEzF,KAAK,GAAGc,QAAQ,CAACzH,MAAT,GAAkB,CAJN;AAKjCqI,YAAAA,UAAU,EAAEA,UALqB;AAMjC4D,YAAAA,YAAY,EAAEA,YANmB;AAOjCF,YAAAA,eAAe,EAAEA,eAPgB;AAQjCM,YAAAA,QAAQ,EAAE3E,IARuB;AASjC4E,YAAAA,YAAY,EAAEtF,QAAQ,CAACE,KATU;AAUjCmE,YAAAA,SAAS,EAAEA,SAAS,IAAI1E,KAAK,KAAK,CAVD;AAWjC4E,YAAAA,MAAM,EAAEA,MAXyB;AAYjCC,YAAAA,OAAO,EAAEA;AAZwB,WAA5B,CAAP;AAcD,SArBM,CAFQ;AAwBf3F,QAAAA,SAAS,EAAE,oCAAoCpF,MAApC,CAA2CoL,WAAW,CAAChF,IAAvD,CAxBI;AAyBfxB,QAAAA,gBAAgB,EAAEA,gBAzBH;AA0BfkB,QAAAA,QAAQ,EAAEA,QA1BK;AA2Bf1B,QAAAA,QAAQ,EAAEA,QA3BK;AA4BfmC,QAAAA,QAAQ,EAAEA,QA5BK;AA6BfK,QAAAA,UAAU,EAAE,KAAKA,UA7BF;AA8Bfb,QAAAA,QAAQ,EAAEA,QA9BK;AA+BfzB,QAAAA,QAAQ,EAAEA,QA/BK;AAgCfkC,QAAAA,MAAM,EAAEA,MAhCO;AAiCfnC,QAAAA,KAAK,EAAEA,KAjCQ;AAkCfF,QAAAA,UAAU,EAAEA,UAlCG;AAmCfgH,QAAAA,WAAW,EAAEA,WAnCE;AAoCfnE,QAAAA,QAAQ,EAAEA,QApCK;AAqCfiE,QAAAA,SAAS,EAAEA,SArCI;AAsCfvD,QAAAA,QAAQ,EAAEA;AAtCK,OAAjB,CA5BkC,CAmE/B;;AAEH,UAAIxE,SAAS,GAAGqD,QAAQ,CAAC,uBAAD,CAAR,IAAqC2E,kBAArC,IAA2DrE,+BAA3E;AACA,aAAO5D,KAAK,CAACwB,aAAN,CAAoBvB,SAApB,EAA+BmI,UAA/B,CAAP;AACD;AAzEA,GArEsB,EA+ItB;AACDnM,IAAAA,GAAG,EAAE,mBADJ;AAED0D,IAAAA,KAAK,EAAE,SAAS2H,iBAAT,GAA6B;AAClC,UAAIuB,YAAY,GAAG,KAAKvK,KAAxB;AAAA,UACIiF,MAAM,GAAGsF,YAAY,CAACtF,MAD1B;AAAA,UAEIpC,QAAQ,GAAG0H,YAAY,CAAC1H,QAF5B;AAAA,UAGImC,QAAQ,GAAGuF,YAAY,CAACvF,QAH5B;AAAA,UAIIS,QAAQ,GAAG8E,YAAY,CAAC9E,QAJ5B;AAAA,UAKIlB,QAAQ,GAAGgG,YAAY,CAAChG,QAL5B;AAAA,UAMIC,QAAQ,GAAG+F,YAAY,CAAC/F,QAN5B;AAAA,UAOIzB,QAAQ,GAAGwH,YAAY,CAACxH,QAP5B;AAAA,UAQIyH,KAAK,GAAGD,YAAY,CAACC,KARzB;AAAA,UASIC,WAAW,GAAGF,YAAY,CAACE,WAT/B;AAAA,UAUIpB,SAAS,GAAGkB,YAAY,CAAClB,SAV7B;AAAA,UAWIE,MAAM,GAAGgB,YAAY,CAAChB,MAX1B;AAAA,UAYIC,OAAO,GAAGe,YAAY,CAACf,OAZ3B;AAAA,UAaIkB,qBAAqB,GAAGH,YAAY,CAACpE,QAbzC;AAAA,UAcIA,QAAQ,GAAGuE,qBAAqB,KAAK,KAAK,CAA/B,GAAmClI,kBAAkB,EAArD,GAA0DkI,qBAdzE;AAAA,UAeIhB,SAAS,GAAGa,YAAY,CAACb,SAf7B;AAgBA,UAAIxE,KAAK,GAAG,KAAKlF,KAAL,CAAWyF,QAAvB;AACA,UAAIkF,OAAO,GAAGxE,QAAQ,CAACwE,OAAvB;AAAA,UACIvE,UAAU,GAAGD,QAAQ,CAACC,UAD1B;AAAA,UAEIwD,WAAW,GAAGzD,QAAQ,CAACyD,WAF3B;AAGA,UAAIC,WAAW,GAAGvH,cAAc,CAAC2C,MAAM,CAACC,KAAR,EAAekB,UAAf,EAA2BX,QAA3B,CAAhC;AACA,UAAImF,WAAW,GAAGvI,WAAW,CAACwH,WAAD,CAA7B;;AAEA,UAAIgB,qBAAqB,GAAGvM,aAAa,CAAC,EAAD,EAAK0D,YAAY,CAACgD,QAAD,CAAjB,EAA6B;AACpE4F,QAAAA,WAAW,EAAEA;AADuD,OAA7B,CAAzC;AAAA,UAGIE,sBAAsB,GAAGD,qBAAqB,CAACE,MAHnD;AAAA,UAIIA,MAAM,GAAGD,sBAAsB,KAAK,KAAK,CAAhC,GAAoC,QAApC,GAA+CA,sBAJ5D;AAAA,UAKIE,OAAO,GAAG1N,wBAAwB,CAACuN,qBAAD,EAAwB,CAAC,QAAD,CAAxB,CALtC;;AAOA,UAAII,MAAM,GAAGnJ,SAAS,CAACmD,MAAD,EAAS8F,MAAT,EAAiBJ,OAAjB,CAAtB;AACA,aAAOjJ,KAAK,CAACwB,aAAN,CAAoB+H,MAApB,EAA4B;AACjCjI,QAAAA,EAAE,EAAEH,QAAQ,IAAIA,QAAQ,CAACI,GADQ;AAEjCiI,QAAAA,QAAQ,EAAE,IAFuB;AAGjCxE,QAAAA,QAAQ,EAAE,KAAKyE,cAHkB;AAIjC5B,QAAAA,MAAM,EAAEA,MAJyB;AAKjCC,QAAAA,OAAO,EAAEA,OALwB;AAMjCwB,QAAAA,OAAO,EAAEA,OANwB;AAOjC/F,QAAAA,MAAM,EAAEA,MAPyB;AAQjCkB,QAAAA,QAAQ,EAAEA,QARuB;AASjC9E,QAAAA,KAAK,EAAE6D,KAT0B;AAUjCX,QAAAA,QAAQ,EAAEA,QAVuB;AAWjCC,QAAAA,QAAQ,EAAEA,QAXuB;AAYjCzB,QAAAA,QAAQ,EAAEA,QAZuB;AAajCyH,QAAAA,KAAK,EAAEA,KAb0B;AAcjCC,QAAAA,WAAW,EAAEA,WAdoB;AAejCb,QAAAA,WAAW,EAAEA,WAfoB;AAgBjCP,QAAAA,SAAS,EAAEA,SAhBsB;AAiBjCK,QAAAA,SAAS,EAAEA;AAjBsB,OAA5B,CAAP;AAmBD;AArDA,GA/IsB,EAqMtB;AACD/L,IAAAA,GAAG,EAAE,aADJ;AAED0D,IAAAA,KAAK,EAAE,SAAS0H,WAAT,GAAuB;AAC5B,UAAIqC,YAAY,GAAG,KAAKpL,KAAxB;AAAA,UACIiF,MAAM,GAAGmG,YAAY,CAACnG,MAD1B;AAAA,UAEID,QAAQ,GAAGoG,YAAY,CAACpG,QAF5B;AAAA,UAGInC,QAAQ,GAAGuI,YAAY,CAACvI,QAH5B;AAAA,UAIIuG,IAAI,GAAGgC,YAAY,CAAChC,IAJxB;AAAA,UAKI7E,QAAQ,GAAG6G,YAAY,CAAC7G,QAL5B;AAAA,UAMIC,QAAQ,GAAG4G,YAAY,CAAC5G,QAN5B;AAAA,UAOI6E,SAAS,GAAG+B,YAAY,CAAC/B,SAP7B;AAAA,UAQIE,MAAM,GAAG6B,YAAY,CAAC7B,MAR1B;AAAA,UASIC,OAAO,GAAG4B,YAAY,CAAC5B,OAT3B;AAAA,UAUI6B,qBAAqB,GAAGD,YAAY,CAACjF,QAVzC;AAAA,UAWIA,QAAQ,GAAGkF,qBAAqB,KAAK,KAAK,CAA/B,GAAmC7I,kBAAkB,EAArD,GAA0D6I,qBAXzE;AAAA,UAYI3B,SAAS,GAAG0B,YAAY,CAAC1B,SAZ7B;AAaA,UAAI5G,KAAK,GAAGmC,MAAM,CAACnC,KAAP,IAAgBsG,IAA5B;AACA,UAAIlE,KAAK,GAAG,KAAKlF,KAAL,CAAWyF,QAAvB;AACA,UAAIkF,OAAO,GAAGxE,QAAQ,CAACwE,OAAvB;AAAA,UACIf,WAAW,GAAGzD,QAAQ,CAACyD,WAD3B;;AAGA,UAAI0B,cAAc,GAAGtJ,YAAY,CAACgD,QAAD,CAAjC;AAAA,UACIuG,qBAAqB,GAAGD,cAAc,CAACP,MAD3C;AAAA,UAEIA,MAAM,GAAGQ,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,OAAnC,GAA6CA,qBAF1D;AAAA,UAGIP,OAAO,GAAG1N,wBAAwB,CAACgO,cAAD,EAAiB,CAAC,QAAD,CAAjB,CAHtC;;AAKA,UAAIL,MAAM,GAAGnJ,SAAS,CAACmD,MAAD,EAAS8F,MAAT,EAAiBJ,OAAjB,CAAtB;AACA,aAAOjJ,KAAK,CAACwB,aAAN,CAAoB+H,MAApB,EAA4B;AACjCD,QAAAA,OAAO,EAAEA,OADwB;AAEjChI,QAAAA,EAAE,EAAEH,QAAQ,IAAIA,QAAQ,CAACI,GAFQ;AAGjCiI,QAAAA,QAAQ,EAAE,IAHuB;AAIjCxE,QAAAA,QAAQ,EAAE,KAAKyE,cAJkB;AAKjC5B,QAAAA,MAAM,EAAEA,MALyB;AAMjCC,QAAAA,OAAO,EAAEA,OANwB;AAOjCvE,QAAAA,MAAM,EAAEA,MAPyB;AAQjCnC,QAAAA,KAAK,EAAEA,KAR0B;AASjCzB,QAAAA,KAAK,EAAE6D,KAT0B;AAUjCX,QAAAA,QAAQ,EAAEA,QAVuB;AAWjCC,QAAAA,QAAQ,EAAEA,QAXuB;AAYjCoF,QAAAA,WAAW,EAAEA,WAZoB;AAajCP,QAAAA,SAAS,EAAEA,SAbsB;AAcjCK,QAAAA,SAAS,EAAEA;AAdsB,OAA5B,CAAP;AAgBD;AA3CA,GArMsB,EAiPtB;AACD/L,IAAAA,GAAG,EAAE,kBADJ;AAED0D,IAAAA,KAAK,EAAE,SAASyH,gBAAT,GAA4B;AACjC,UAAI0C,MAAM,GAAG,IAAb;;AAEA,UAAIC,YAAY,GAAG,KAAKzL,KAAxB;AAAA,UACIiF,MAAM,GAAGwG,YAAY,CAACxG,MAD1B;AAAA,UAEID,QAAQ,GAAGyG,YAAY,CAACzG,QAF5B;AAAA,UAGIS,QAAQ,GAAGgG,YAAY,CAAChG,QAH5B;AAAA,UAII0B,WAAW,GAAGsE,YAAY,CAACtE,WAJ/B;AAAA,UAKIsC,QAAQ,GAAGgC,YAAY,CAAChC,QAL5B;AAAA,UAMI5G,QAAQ,GAAG4I,YAAY,CAAC5I,QAN5B;AAAA,UAOIuG,IAAI,GAAGqC,YAAY,CAACrC,IAPxB;AAAA,UAQIrG,QAAQ,GAAG0I,YAAY,CAAC1I,QAR5B;AAAA,UASIwB,QAAQ,GAAGkH,YAAY,CAAClH,QAT5B;AAAA,UAUIC,QAAQ,GAAGiH,YAAY,CAACjH,QAV5B;AAAA,UAWI6E,SAAS,GAAGoC,YAAY,CAACpC,SAX7B;AAAA,UAYIqC,qBAAqB,GAAGD,YAAY,CAACtF,QAZzC;AAAA,UAaIA,QAAQ,GAAGuF,qBAAqB,KAAK,KAAK,CAA/B,GAAmClJ,kBAAkB,EAArD,GAA0DkJ,qBAbzE;AAAA,UAcInC,MAAM,GAAGkC,YAAY,CAAClC,MAd1B;AAAA,UAeIC,OAAO,GAAGiC,YAAY,CAACjC,OAf3B;AAAA,UAgBIE,SAAS,GAAG+B,YAAY,CAAC/B,SAhB7B;AAiBA,UAAI5G,KAAK,GAAGmC,MAAM,CAACnC,KAAP,IAAgBsG,IAA5B;AACA,UAAIlE,KAAK,GAAG,KAAKlF,KAAL,CAAWyF,QAAvB;AACA,UAAIkE,kBAAkB,GAAGxD,QAAQ,CAACwD,kBAAlC;AAAA,UACIvD,UAAU,GAAGD,QAAQ,CAACC,UAD1B;AAAA,UAEIuC,MAAM,GAAGxC,QAAQ,CAACwC,MAFtB;AAAA,UAGIiB,WAAW,GAAGzD,QAAQ,CAACyD,WAH3B;AAIA,UAAIhH,UAAU,GAAG+F,MAAM,CAAC/F,UAAxB;AACA,UAAI+I,WAAW,GAAG1G,MAAM,CAACC,KAAP,CAAaC,GAAb,CAAiB,UAAUO,IAAV,EAAgBf,KAAhB,EAAuB;AACxD,eAAOrC,cAAc,CAACoD,IAAD,EAAOU,UAAP,EAAmBX,QAAQ,CAACd,KAAD,CAA3B,CAArB;AACD,OAFiB,CAAlB;AAGA,UAAIiH,gBAAgB,GAAGxJ,oBAAoB,CAAC6C,MAAD,CAApB,GAA+B3C,cAAc,CAAC2C,MAAM,CAACqB,eAAR,EAAyBF,UAAzB,EAAqCX,QAArC,CAA7C,GAA8F,IAArH;;AAEA,UAAI,CAACP,KAAD,IAAUA,KAAK,CAAClH,MAAN,GAAe2N,WAAW,CAAC3N,MAAzC,EAAiD;AAC/C;AACAkH,QAAAA,KAAK,GAAGA,KAAK,IAAI,EAAjB;AACAA,QAAAA,KAAK,GAAGA,KAAK,CAACzG,MAAN,CAAa,IAAIe,KAAJ,CAAUmM,WAAW,CAAC3N,MAAZ,GAAqBkH,KAAK,CAAClH,MAArC,CAAb,CAAR;AACD,OApCgC,CAoC/B;;;AAGF,UAAI8L,UAAU,GAAG;AACf1E,QAAAA,MAAM,EAAE,KAAK6C,UAAL,CAAgB/C,KAAhB,KAA0B0G,gBADnB;AAEf/H,QAAAA,SAAS,EAAE,2CAFI;AAGfU,QAAAA,QAAQ,EAAEA,QAHK;AAIf1B,QAAAA,QAAQ,EAAEA,QAJK;AAKf4C,QAAAA,QAAQ,EAAEA,QALK;AAMfP,QAAAA,KAAK,EAAE,KAAK4B,KAAL,CAAWlB,aAAX,CAAyBT,GAAzB,CAA6B,UAAUU,SAAV,EAAqBlB,KAArB,EAA4B;AAC9D,cAAIhH,GAAG,GAAGkI,SAAS,CAAClI,GAApB;AAAA,cACI+H,IAAI,GAAGG,SAAS,CAACH,IADrB;AAEA,cAAImG,UAAU,GAAGlH,KAAK,IAAIgH,WAAW,CAAC3N,MAAtC;AACA,cAAIqI,UAAU,GAAGwF,UAAU,GAAGvJ,cAAc,CAAC2C,MAAM,CAACqB,eAAR,EAAyBF,UAAzB,EAAqCV,IAArC,CAAjB,GAA8DiG,WAAW,CAAChH,KAAD,CAApG;AACA,cAAIqF,YAAY,GAAGnH,QAAQ,CAACI,GAAT,GAAe,GAAf,GAAqB0B,KAAxC;AACA,cAAIsF,YAAY,GAAG1H,UAAU,CAAC8D,UAAD,EAAa2D,YAAb,EAA2B5D,UAA3B,EAAuCV,IAAvC,EAA6C+D,QAA7C,CAA7B;AACA,cAAIa,YAAY,GAAGuB,UAAU,GAAG7G,QAAQ,CAACsB,eAAT,IAA4B,EAA/B,GAAoC9G,KAAK,CAACE,OAAN,CAAcsF,QAAQ,CAACE,KAAvB,IAAgCF,QAAQ,CAACE,KAAT,CAAeP,KAAf,CAAhC,GAAwDK,QAAQ,CAACE,KAAT,IAAkB,EAA3I;AACA,cAAI6E,eAAe,GAAG5C,WAAW,GAAGA,WAAW,CAACxC,KAAD,CAAd,GAAwB4B,SAAzD;AACA,iBAAOiF,MAAM,CAACtB,oBAAP,CAA4B;AACjCvM,YAAAA,GAAG,EAAEA,GAD4B;AAEjCgH,YAAAA,KAAK,EAAEA,KAF0B;AAGjCmH,YAAAA,SAAS,EAAED,UAHsB;AAIjC1B,YAAAA,SAAS,EAAExF,KAAK,IAAIgH,WAAW,CAAC3N,MAAZ,GAAqB,CAJR;AAKjCoM,YAAAA,WAAW,EAAEyB,UAAU,IAAIlH,KAAK,GAAGO,KAAK,CAAClH,MAAN,GAAe,CALjB;AAMjCqI,YAAAA,UAAU,EAAEA,UANqB;AAOjCgE,YAAAA,QAAQ,EAAE3E,IAPuB;AAQjC4E,YAAAA,YAAY,EAAEA,YARmB;AASjCL,YAAAA,YAAY,EAAEA,YATmB;AAUjCF,YAAAA,eAAe,EAAEA,eAVgB;AAWjCV,YAAAA,SAAS,EAAEA,SAAS,IAAI1E,KAAK,KAAK,CAXD;AAYjC4E,YAAAA,MAAM,EAAEA,MAZyB;AAajCC,YAAAA,OAAO,EAAEA;AAbwB,WAA5B,CAAP;AAeD,SAxBM,CANQ;AA+BfnE,QAAAA,UAAU,EAAE,KAAKA,UA/BF;AAgCfb,QAAAA,QAAQ,EAAEA,QAhCK;AAiCfzB,QAAAA,QAAQ,EAAEA,QAjCK;AAkCfkC,QAAAA,MAAM,EAAEA,MAlCO;AAmCfD,QAAAA,QAAQ,EAAEA,QAnCK;AAoCflC,QAAAA,KAAK,EAAEA,KApCQ;AAqCfF,QAAAA,UAAU,EAAEA,UArCG;AAsCfgH,QAAAA,WAAW,EAAEA,WAtCE;AAuCfF,QAAAA,SAAS,EAAEA;AAvCI,OAAjB,CAvCiC,CA+E9B;;AAEH,UAAIqC,QAAQ,GAAG/G,QAAQ,CAAC,uBAAD,CAAR,IAAqC2E,kBAArC,IAA2D5E,8BAA1E;AACA,aAAOrD,KAAK,CAACwB,aAAN,CAAoB6I,QAApB,EAA8BjC,UAA9B,CAAP;AACD;AArFA,GAjPsB,EAuUtB;AACDnM,IAAAA,GAAG,EAAE,sBADJ;AAED0D,IAAAA,KAAK,EAAE,SAAS6I,oBAAT,CAA8BlK,KAA9B,EAAqC;AAC1C,UAAIrC,GAAG,GAAGqC,KAAK,CAACrC,GAAhB;AAAA,UACIgH,KAAK,GAAG3E,KAAK,CAAC2E,KADlB;AAAA,UAEIqH,gBAAgB,GAAGhM,KAAK,CAAC8L,SAF7B;AAAA,UAGIA,SAAS,GAAGE,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,IAA9B,GAAqCA,gBAHrD;AAAA,UAIIC,gBAAgB,GAAGjM,KAAK,CAACmK,SAJ7B;AAAA,UAKIA,SAAS,GAAG8B,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,IAA9B,GAAqCA,gBALrD;AAAA,UAMIC,kBAAkB,GAAGlM,KAAK,CAACoK,WAN/B;AAAA,UAOIA,WAAW,GAAG8B,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,IAAhC,GAAuCA,kBAPzD;AAAA,UAQI7F,UAAU,GAAGrG,KAAK,CAACqG,UARvB;AAAA,UASIgE,QAAQ,GAAGrK,KAAK,CAACqK,QATrB;AAAA,UAUIC,YAAY,GAAGtK,KAAK,CAACsK,YAVzB;AAAA,UAWIL,YAAY,GAAGjK,KAAK,CAACiK,YAXzB;AAAA,UAYIF,eAAe,GAAG/J,KAAK,CAAC+J,eAZ5B;AAAA,UAaIV,SAAS,GAAGrJ,KAAK,CAACqJ,SAbtB;AAAA,UAcIE,MAAM,GAAGvJ,KAAK,CAACuJ,MAdnB;AAAA,UAeIC,OAAO,GAAGxJ,KAAK,CAACwJ,OAfpB;AAAA,UAgBIE,SAAS,GAAG1J,KAAK,CAAC0J,SAhBtB;AAiBA,UAAIyC,YAAY,GAAG,KAAKnM,KAAxB;AAAA,UACIuE,QAAQ,GAAG4H,YAAY,CAAC5H,QAD5B;AAAA,UAEIC,QAAQ,GAAG2H,YAAY,CAAC3H,QAF5B;AAAA,UAGIQ,QAAQ,GAAGmH,YAAY,CAACnH,QAH5B;AAAA,UAIIoH,qBAAqB,GAAGD,YAAY,CAAChG,QAJzC;AAAA,UAKIA,QAAQ,GAAGiG,qBAAqB,KAAK,KAAK,CAA/B,GAAmC5J,kBAAkB,EAArD,GAA0D4J,qBALzE;AAMA,UAAIC,WAAW,GAAGlG,QAAQ,CAACwC,MAAT,CAAgB0D,WAAlC;;AAEA,UAAIC,qBAAqB,GAAGhO,aAAa,CAAC;AACxCiO,QAAAA,SAAS,EAAE,IAD6B;AAExCC,QAAAA,SAAS,EAAE;AAF6B,OAAD,EAGtCxH,QAAQ,CAAC,YAAD,CAH8B,CAAzC;AAAA,UAIIuH,SAAS,GAAGD,qBAAqB,CAACC,SAJtC;AAAA,UAKIC,SAAS,GAAGF,qBAAqB,CAACE,SALtC;;AAOA,UAAIC,GAAG,GAAG;AACRC,QAAAA,MAAM,EAAEH,SAAS,IAAIpC,SADb;AAERwC,QAAAA,QAAQ,EAAEJ,SAAS,IAAInC,WAFf;AAGRwC,QAAAA,MAAM,EAAEJ,SAAS,IAAIV;AAHb,OAAV;AAKAW,MAAAA,GAAG,CAACI,OAAJ,GAAchP,MAAM,CAACQ,IAAP,CAAYoO,GAAZ,EAAiBK,IAAjB,CAAsB,UAAUnP,GAAV,EAAe;AACjD,eAAO8O,GAAG,CAAC9O,GAAD,CAAV;AACD,OAFa,CAAd;AAGA,aAAO;AACLoG,QAAAA,QAAQ,EAAErC,KAAK,CAACwB,aAAN,CAAoBmJ,WAApB,EAAiC;AACzC1H,UAAAA,KAAK,EAAEA,KADkC;AAEzCM,UAAAA,MAAM,EAAEoB,UAFiC;AAGzCrB,UAAAA,QAAQ,EAAEsF,YAH+B;AAIzC7E,UAAAA,QAAQ,EAAE4E,QAJ+B;AAKzClD,UAAAA,WAAW,EAAE4C,eAL4B;AAMzClH,UAAAA,QAAQ,EAAEoH,YAN+B;AAOzClH,UAAAA,QAAQ,EAAE,KAAKiF,cAAL,CAAoB3B,UAApB,CAP+B;AAQzCK,UAAAA,QAAQ,EAAE,KAAKqG,gBAAL,CAAsBpI,KAAtB,CAR+B;AASzC4E,UAAAA,MAAM,EAAEA,MATiC;AAUzCC,UAAAA,OAAO,EAAEA,OAVgC;AAWzCrD,UAAAA,QAAQ,EAAE,KAAKnG,KAAL,CAAWmG,QAXoB;AAYzC5B,UAAAA,QAAQ,EAAE,KAAKvE,KAAL,CAAWuE,QAZoB;AAazCC,UAAAA,QAAQ,EAAE,KAAKxE,KAAL,CAAWwE,QAboB;AAczC6E,UAAAA,SAAS,EAAEA,SAd8B;AAezCK,UAAAA,SAAS,EAAEA;AAf8B,SAAjC,CADL;AAkBL7F,QAAAA,SAAS,EAAE,YAlBN;AAmBLU,QAAAA,QAAQ,EAAEA,QAnBL;AAoBLT,QAAAA,UAAU,EAAE2I,GAAG,CAACI,OApBX;AAqBL1I,QAAAA,SAAS,EAAEsI,GAAG,CAACC,MArBV;AAsBLtI,QAAAA,WAAW,EAAEqI,GAAG,CAACE,QAtBZ;AAuBL/H,QAAAA,SAAS,EAAE6H,GAAG,CAACG,MAvBV;AAwBLjI,QAAAA,KAAK,EAAEA,KAxBF;AAyBLhH,QAAAA,GAAG,EAAEA,GAzBA;AA0BLqP,QAAAA,eAAe,EAAE,KAAKA,eA1BjB;AA2BLlI,QAAAA,gBAAgB,EAAE,KAAKA,gBA3BlB;AA4BLJ,QAAAA,cAAc,EAAE,KAAKA,cA5BhB;AA6BLF,QAAAA,QAAQ,EAAEA;AA7BL,OAAP;AA+BD;AA1EA,GAvUsB,EAkZtB;AACD7G,IAAAA,GAAG,EAAE,WADJ;AAEDsP,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,UAAIhI,MAAM,GAAG,KAAKjF,KAAL,CAAWiF,MAAxB;AACA,aAAOA,MAAM,CAACC,KAAP,CAAapC,KAAb,IAAsBmC,MAAM,CAACC,KAAP,CAAa5B,WAAnC,IAAkD,MAAzD;AACD;AALA,GAlZsB,CAAb,EAwZR,CAAC;AACH3F,IAAAA,GAAG,EAAE,0BADF;AAEH0D,IAAAA,KAAK,EAAE,SAAS6L,wBAAT,CAAkCC,SAAlC,EAA6CC,SAA7C,EAAwD;AAC7D;AACA,UAAIA,SAAS,CAACpG,oBAAd,EAAoC;AAClC,eAAO;AACLA,UAAAA,oBAAoB,EAAE;AADjB,SAAP;AAGD;;AAED,UAAIqG,YAAY,GAAGF,SAAS,CAAC1H,QAAV,IAAsB,EAAzC;AACA,UAAI6H,qBAAqB,GAAGF,SAAS,CAACxH,aAAV,IAA2B,EAAvD;AACA,UAAIiB,gBAAgB,GAAGwG,YAAY,CAACrP,MAAb,KAAwBsP,qBAAqB,CAACtP,MAA9C,GAAuDsP,qBAAqB,CAACnI,GAAtB,CAA0B,UAAUoI,sBAAV,EAAkC5I,KAAlC,EAAyC;AAC/I,eAAO;AACLhH,UAAAA,GAAG,EAAE4P,sBAAsB,CAAC5P,GADvB;AAEL+H,UAAAA,IAAI,EAAE2H,YAAY,CAAC1I,KAAD;AAFb,SAAP;AAID,OAL6E,CAAvD,GAKlBa,qBAAqB,CAAC6H,YAAD,CAL1B;AAMA,aAAO;AACLzH,QAAAA,aAAa,EAAEiB;AADV,OAAP;AAGD;AArBE,GAAD,CAxZQ,CAAZ;;AAgbA,SAAOf,UAAP;AACD,CA7mBD,CA6mBEnE,SA7mBF,CAFA;;AAinBA5C,eAAe,CAAC+G,UAAD,EAAa,cAAb,EAA6B;AAC1Cd,EAAAA,QAAQ,EAAE,EADgC;AAE1CS,EAAAA,QAAQ,EAAE,EAFgC;AAG1C5C,EAAAA,QAAQ,EAAE,EAHgC;AAI1CE,EAAAA,QAAQ,EAAE,KAJgC;AAK1CwB,EAAAA,QAAQ,EAAE,KALgC;AAM1CC,EAAAA,QAAQ,EAAE,KANgC;AAO1C6E,EAAAA,SAAS,EAAE;AAP+B,CAA7B,CAAf;;AAUA,IAAImE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC5H,EAAAA,UAAU,CAAC6H,SAAX,GAAuB9L,KAAK,CAAC+L,UAA7B;AACD;;AAED,eAAe9H,UAAf","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport AddButton from \"../AddButton\";\nimport IconButton from \"../IconButton\";\nimport React, { Component } from \"react\";\nimport includes from \"core-js-pure/es/array/includes\";\nimport * as types from \"../../types\";\nimport { getWidget, getDefaultFormState, getUiOptions, isMultiSelect, isFilesArray, isFixedItems, allowAdditionalItems, optionsList, retrieveSchema, toIdSchema, getDefaultRegistry } from \"../../utils\";\nimport { nanoid } from \"nanoid\";\n\nfunction ArrayFieldTitle(_ref) {\n  var TitleField = _ref.TitleField,\n      idSchema = _ref.idSchema,\n      title = _ref.title,\n      required = _ref.required;\n\n  if (!title) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__title\");\n  return React.createElement(TitleField, {\n    id: id,\n    title: title,\n    required: required\n  });\n}\n\nfunction ArrayFieldDescription(_ref2) {\n  var DescriptionField = _ref2.DescriptionField,\n      idSchema = _ref2.idSchema,\n      description = _ref2.description;\n\n  if (!description) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__description\");\n  return React.createElement(DescriptionField, {\n    id: id,\n    description: description\n  });\n} // Used in the two templates\n\n\nfunction DefaultArrayItem(props) {\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\"\n  };\n  return React.createElement(\"div\", {\n    key: props.key,\n    className: props.className\n  }, React.createElement(\"div\", {\n    className: props.hasToolbar ? \"col-xs-9\" : \"col-xs-12\"\n  }, props.children), props.hasToolbar && React.createElement(\"div\", {\n    className: \"col-xs-3 array-item-toolbox\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\"\n    }\n  }, (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-up\",\n    \"aria-label\": \"Move up\",\n    className: \"array-item-move-up\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveUp,\n    onClick: props.onReorderClick(props.index, props.index - 1)\n  }), (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-down\",\n    className: \"array-item-move-down\",\n    \"aria-label\": \"Move down\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveDown,\n    onClick: props.onReorderClick(props.index, props.index + 1)\n  }), props.hasRemove && React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    \"aria-label\": \"Remove\",\n    className: \"array-item-remove\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly,\n    onClick: props.onDropIndexClick(props.index)\n  }))));\n}\n\nfunction DefaultFixedArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(\"div\", {\n    className: \"field-description\",\n    key: \"field-description-\".concat(props.idSchema.$id)\n  }, props.uiSchema[\"ui:description\"] || props.schema.description), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(DefaultArrayItem)), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction DefaultNormalArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(ArrayFieldDescription, {\n    key: \"array-field-description-\".concat(props.idSchema.$id),\n    DescriptionField: props.DescriptionField,\n    idSchema: props.idSchema,\n    description: props.uiSchema[\"ui:description\"] || props.schema.description\n  }), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(function (p) {\n    return DefaultArrayItem(p);\n  })), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction generateRowId() {\n  return nanoid();\n}\n\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData) ? [] : formData.map(function (item) {\n    return {\n      key: generateRowId(),\n      item: item\n    };\n  });\n}\n\nfunction keyedToPlainFormData(keyedFormData) {\n  return keyedFormData.map(function (keyedItem) {\n    return keyedItem.item;\n  });\n}\n\nvar ArrayField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArrayField, _Component);\n\n  function ArrayField(props) {\n    var _this;\n\n    _classCallCheck(this, ArrayField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArrayField).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getNewFormDataRow\", function () {\n      var _this$props = _this.props,\n          schema = _this$props.schema,\n          _this$props$registry = _this$props.registry,\n          registry = _this$props$registry === void 0 ? getDefaultRegistry() : _this$props$registry;\n      var rootSchema = registry.rootSchema;\n      var itemSchema = schema.items;\n\n      if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n        itemSchema = schema.additionalItems;\n      }\n\n      return getDefaultFormState(itemSchema, undefined, rootSchema);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddClick\", function (event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      var onChange = _this.props.onChange;\n      var newKeyedFormDataRow = {\n        key: generateRowId(),\n        item: _this._getNewFormDataRow()\n      };\n      var newKeyedFormData = [].concat(_toConsumableArray(_this.state.keyedFormData), [newKeyedFormDataRow]);\n\n      _this.setState({\n        keyedFormData: newKeyedFormData,\n        updatedKeyedFormData: true\n      }, function () {\n        return onChange(keyedToPlainFormData(newKeyedFormData));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var newKeyedFormDataRow = {\n          key: generateRowId(),\n          item: _this._getNewFormDataRow()\n        };\n\n        var newKeyedFormData = _toConsumableArray(_this.state.keyedFormData);\n\n        newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData));\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var keyedFormData = _this.state.keyedFormData; // refs #195: revalidate to ensure properly reindexing errors\n\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            i = parseInt(i);\n\n            if (i < index) {\n              newErrorSchema[i] = errorSchema[i];\n            } else if (i > index) {\n              newErrorSchema[i - 1] = errorSchema[i];\n            }\n          }\n        }\n\n        var newKeyedFormData = keyedFormData.filter(function (_, i) {\n          return i !== index;\n        });\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReorderClick\", function (index, newIndex) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n          event.target.blur();\n        }\n\n        var onChange = _this.props.onChange;\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            if (i == index) {\n              newErrorSchema[newIndex] = errorSchema[index];\n            } else if (i == newIndex) {\n              newErrorSchema[index] = errorSchema[newIndex];\n            } else {\n              newErrorSchema[i] = errorSchema[i];\n            }\n          }\n        }\n\n        var keyedFormData = _this.state.keyedFormData;\n\n        function reOrderArray() {\n          // Copy item\n          var _newKeyedFormData = keyedFormData.slice(); // Moves item from index to newIndex\n\n\n          _newKeyedFormData.splice(index, 1);\n\n          _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n\n          return _newKeyedFormData;\n        }\n\n        var newKeyedFormData = reOrderArray();\n\n        _this.setState({\n          keyedFormData: newKeyedFormData\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeForIndex\", function (index) {\n      return function (value, errorSchema) {\n        var _this$props2 = _this.props,\n            formData = _this$props2.formData,\n            onChange = _this$props2.onChange;\n        var newFormData = formData.map(function (item, i) {\n          // We need to treat undefined items as nulls to have validation.\n          // See https://github.com/tdegrunt/jsonschema/issues/206\n          var jsonValue = typeof value === \"undefined\" ? null : value;\n          return index === i ? jsonValue : item;\n        });\n        onChange(newFormData, errorSchema && _this.props.errorSchema && _objectSpread({}, _this.props.errorSchema, _defineProperty({}, index, errorSchema)));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChange\", function (value) {\n      _this.props.onChange(value);\n    });\n\n    var _formData = props.formData;\n\n    var _keyedFormData = generateKeyedFormData(_formData);\n\n    _this.state = {\n      keyedFormData: _keyedFormData,\n      updatedKeyedFormData: false\n    };\n    return _this;\n  }\n\n  _createClass(ArrayField, [{\n    key: \"isItemRequired\",\n    value: function isItemRequired(itemSchema) {\n      if (Array.isArray(itemSchema.type)) {\n        // While we don't yet support composite/nullable jsonschema types, it's\n        // future-proof to check for requirement against these.\n        return !includes(itemSchema.type, \"null\");\n      } // All non-null array item types are inherently required by design\n\n\n      return itemSchema.type !== \"null\";\n    }\n  }, {\n    key: \"canAddItem\",\n    value: function canAddItem(formItems) {\n      var _this$props3 = this.props,\n          schema = _this$props3.schema,\n          uiSchema = _this$props3.uiSchema;\n\n      var _getUiOptions = getUiOptions(uiSchema),\n          addable = _getUiOptions.addable;\n\n      if (addable !== false) {\n        // if ui:options.addable was not explicitly set to false, we can add\n        // another item if we have not exceeded maxItems yet\n        if (schema.maxItems !== undefined) {\n          addable = formItems.length < schema.maxItems;\n        } else {\n          addable = true;\n        }\n      }\n\n      return addable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          schema = _this$props4.schema,\n          uiSchema = _this$props4.uiSchema,\n          idSchema = _this$props4.idSchema,\n          _this$props4$registry = _this$props4.registry,\n          registry = _this$props4$registry === void 0 ? getDefaultRegistry() : _this$props4$registry;\n      var rootSchema = registry.rootSchema;\n\n      if (!schema.hasOwnProperty(\"items\")) {\n        var fields = registry.fields;\n        var UnsupportedField = fields.UnsupportedField;\n        return React.createElement(UnsupportedField, {\n          schema: schema,\n          idSchema: idSchema,\n          reason: \"Missing items definition\"\n        });\n      }\n\n      if (isFixedItems(schema)) {\n        return this.renderFixedArray();\n      }\n\n      if (isFilesArray(schema, uiSchema, rootSchema)) {\n        return this.renderFiles();\n      }\n\n      if (isMultiSelect(schema, rootSchema)) {\n        return this.renderMultiSelect();\n      }\n\n      return this.renderNormalArray();\n    }\n  }, {\n    key: \"renderNormalArray\",\n    value: function renderNormalArray() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          schema = _this$props5.schema,\n          uiSchema = _this$props5.uiSchema,\n          errorSchema = _this$props5.errorSchema,\n          idSchema = _this$props5.idSchema,\n          name = _this$props5.name,\n          required = _this$props5.required,\n          disabled = _this$props5.disabled,\n          readonly = _this$props5.readonly,\n          autofocus = _this$props5.autofocus,\n          _this$props5$registry = _this$props5.registry,\n          registry = _this$props5$registry === void 0 ? getDefaultRegistry() : _this$props5$registry,\n          onBlur = _this$props5.onBlur,\n          onFocus = _this$props5.onFocus,\n          idPrefix = _this$props5.idPrefix,\n          rawErrors = _this$props5.rawErrors;\n      var title = schema.title === undefined ? name : schema.title;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema);\n      var formData = keyedToPlainFormData(this.state.keyedFormData);\n      var arrayProps = {\n        canAdd: this.canAddItem(formData),\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var itemSchema = retrieveSchema(schema.items, rootSchema, item);\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          return _this2.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canMoveUp: index > 0,\n            canMoveDown: index < formData.length - 1,\n            itemSchema: itemSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            itemData: item,\n            itemUiSchema: uiSchema.items,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        className: \"field field-array field-array-of-\".concat(itemsSchema.type),\n        DescriptionField: DescriptionField,\n        disabled: disabled,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        formData: formData,\n        rawErrors: rawErrors,\n        registry: registry\n      }; // Check if a custom render function was passed in\n\n      var Component = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultNormalArrayFieldTemplate;\n      return React.createElement(Component, arrayProps);\n    }\n  }, {\n    key: \"renderMultiSelect\",\n    value: function renderMultiSelect() {\n      var _this$props6 = this.props,\n          schema = _this$props6.schema,\n          idSchema = _this$props6.idSchema,\n          uiSchema = _this$props6.uiSchema,\n          formData = _this$props6.formData,\n          disabled = _this$props6.disabled,\n          readonly = _this$props6.readonly,\n          required = _this$props6.required,\n          label = _this$props6.label,\n          placeholder = _this$props6.placeholder,\n          autofocus = _this$props6.autofocus,\n          onBlur = _this$props6.onBlur,\n          onFocus = _this$props6.onFocus,\n          _this$props6$registry = _this$props6.registry,\n          registry = _this$props6$registry === void 0 ? getDefaultRegistry() : _this$props6$registry,\n          rawErrors = _this$props6.rawErrors;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          rootSchema = registry.rootSchema,\n          formContext = registry.formContext;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema, formData);\n      var enumOptions = optionsList(itemsSchema);\n\n      var _getUiOptions$enumOpt = _objectSpread({}, getUiOptions(uiSchema), {\n        enumOptions: enumOptions\n      }),\n          _getUiOptions$enumOpt2 = _getUiOptions$enumOpt.widget,\n          widget = _getUiOptions$enumOpt2 === void 0 ? \"select\" : _getUiOptions$enumOpt2,\n          options = _objectWithoutProperties(_getUiOptions$enumOpt, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        options: options,\n        schema: schema,\n        registry: registry,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        required: required,\n        label: label,\n        placeholder: placeholder,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this$props7 = this.props,\n          schema = _this$props7.schema,\n          uiSchema = _this$props7.uiSchema,\n          idSchema = _this$props7.idSchema,\n          name = _this$props7.name,\n          disabled = _this$props7.disabled,\n          readonly = _this$props7.readonly,\n          autofocus = _this$props7.autofocus,\n          onBlur = _this$props7.onBlur,\n          onFocus = _this$props7.onFocus,\n          _this$props7$registry = _this$props7.registry,\n          registry = _this$props7$registry === void 0 ? getDefaultRegistry() : _this$props7$registry,\n          rawErrors = _this$props7.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          formContext = registry.formContext;\n\n      var _getUiOptions2 = getUiOptions(uiSchema),\n          _getUiOptions2$widget = _getUiOptions2.widget,\n          widget = _getUiOptions2$widget === void 0 ? \"files\" : _getUiOptions2$widget,\n          options = _objectWithoutProperties(_getUiOptions2, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        options: options,\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        schema: schema,\n        title: title,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFixedArray\",\n    value: function renderFixedArray() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          schema = _this$props8.schema,\n          uiSchema = _this$props8.uiSchema,\n          formData = _this$props8.formData,\n          errorSchema = _this$props8.errorSchema,\n          idPrefix = _this$props8.idPrefix,\n          idSchema = _this$props8.idSchema,\n          name = _this$props8.name,\n          required = _this$props8.required,\n          disabled = _this$props8.disabled,\n          readonly = _this$props8.readonly,\n          autofocus = _this$props8.autofocus,\n          _this$props8$registry = _this$props8.registry,\n          registry = _this$props8$registry === void 0 ? getDefaultRegistry() : _this$props8$registry,\n          onBlur = _this$props8.onBlur,\n          onFocus = _this$props8.onFocus,\n          rawErrors = _this$props8.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField;\n      var itemSchemas = schema.items.map(function (item, index) {\n        return retrieveSchema(item, rootSchema, formData[index]);\n      });\n      var additionalSchema = allowAdditionalItems(schema) ? retrieveSchema(schema.additionalItems, rootSchema, formData) : null;\n\n      if (!items || items.length < itemSchemas.length) {\n        // to make sure at least all fixed items are generated\n        items = items || [];\n        items = items.concat(new Array(itemSchemas.length - items.length));\n      } // These are the props passed into the render function\n\n\n      var arrayProps = {\n        canAdd: this.canAddItem(items) && additionalSchema,\n        className: \"field field-array field-array-fixed-items\",\n        disabled: disabled,\n        idSchema: idSchema,\n        formData: formData,\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var additional = index >= itemSchemas.length;\n          var itemSchema = additional ? retrieveSchema(schema.additionalItems, rootSchema, item) : itemSchemas[index];\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          var itemUiSchema = additional ? uiSchema.additionalItems || {} : Array.isArray(uiSchema.items) ? uiSchema.items[index] : uiSchema.items || {};\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          return _this3.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canRemove: additional,\n            canMoveUp: index >= itemSchemas.length + 1,\n            canMoveDown: additional && index < items.length - 1,\n            itemSchema: itemSchema,\n            itemData: item,\n            itemUiSchema: itemUiSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        uiSchema: uiSchema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        rawErrors: rawErrors\n      }; // Check if a custom template template was passed in\n\n      var Template = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultFixedArrayFieldTemplate;\n      return React.createElement(Template, arrayProps);\n    }\n  }, {\n    key: \"renderArrayFieldItem\",\n    value: function renderArrayFieldItem(props) {\n      var key = props.key,\n          index = props.index,\n          _props$canRemove = props.canRemove,\n          canRemove = _props$canRemove === void 0 ? true : _props$canRemove,\n          _props$canMoveUp = props.canMoveUp,\n          canMoveUp = _props$canMoveUp === void 0 ? true : _props$canMoveUp,\n          _props$canMoveDown = props.canMoveDown,\n          canMoveDown = _props$canMoveDown === void 0 ? true : _props$canMoveDown,\n          itemSchema = props.itemSchema,\n          itemData = props.itemData,\n          itemUiSchema = props.itemUiSchema,\n          itemIdSchema = props.itemIdSchema,\n          itemErrorSchema = props.itemErrorSchema,\n          autofocus = props.autofocus,\n          onBlur = props.onBlur,\n          onFocus = props.onFocus,\n          rawErrors = props.rawErrors;\n      var _this$props9 = this.props,\n          disabled = _this$props9.disabled,\n          readonly = _this$props9.readonly,\n          uiSchema = _this$props9.uiSchema,\n          _this$props9$registry = _this$props9.registry,\n          registry = _this$props9$registry === void 0 ? getDefaultRegistry() : _this$props9$registry;\n      var SchemaField = registry.fields.SchemaField;\n\n      var _orderable$removable$ = _objectSpread({\n        orderable: true,\n        removable: true\n      }, uiSchema[\"ui:options\"]),\n          orderable = _orderable$removable$.orderable,\n          removable = _orderable$removable$.removable;\n\n      var has = {\n        moveUp: orderable && canMoveUp,\n        moveDown: orderable && canMoveDown,\n        remove: removable && canRemove\n      };\n      has.toolbar = Object.keys(has).some(function (key) {\n        return has[key];\n      });\n      return {\n        children: React.createElement(SchemaField, {\n          index: index,\n          schema: itemSchema,\n          uiSchema: itemUiSchema,\n          formData: itemData,\n          errorSchema: itemErrorSchema,\n          idSchema: itemIdSchema,\n          required: this.isItemRequired(itemSchema),\n          onChange: this.onChangeForIndex(index),\n          onBlur: onBlur,\n          onFocus: onFocus,\n          registry: this.props.registry,\n          disabled: this.props.disabled,\n          readonly: this.props.readonly,\n          autofocus: autofocus,\n          rawErrors: rawErrors\n        }),\n        className: \"array-item\",\n        disabled: disabled,\n        hasToolbar: has.toolbar,\n        hasMoveUp: has.moveUp,\n        hasMoveDown: has.moveDown,\n        hasRemove: has.remove,\n        index: index,\n        key: key,\n        onAddIndexClick: this.onAddIndexClick,\n        onDropIndexClick: this.onDropIndexClick,\n        onReorderClick: this.onReorderClick,\n        readonly: readonly\n      };\n    }\n  }, {\n    key: \"itemTitle\",\n    get: function get() {\n      var schema = this.props.schema;\n      return schema.items.title || schema.items.description || \"Item\";\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n      if (prevState.updatedKeyedFormData) {\n        return {\n          updatedKeyedFormData: false\n        };\n      }\n\n      var nextFormData = nextProps.formData || [];\n      var previousKeyedFormData = prevState.keyedFormData || [];\n      var newKeyedFormData = nextFormData.length === previousKeyedFormData.length ? previousKeyedFormData.map(function (previousKeyedFormDatum, index) {\n        return {\n          key: previousKeyedFormDatum.key,\n          item: nextFormData[index]\n        };\n      }) : generateKeyedFormData(nextFormData);\n      return {\n        keyedFormData: newKeyedFormData\n      };\n    }\n  }]);\n\n  return ArrayField;\n}(Component);\n\n_defineProperty(ArrayField, \"defaultProps\", {\n  uiSchema: {},\n  formData: [],\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ArrayField.propTypes = types.fieldProps;\n}\n\nexport default ArrayField;"]},"metadata":{},"sourceType":"module"}